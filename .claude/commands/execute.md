# /execute 指令

## 🎯 指令用途
依據使用者輸入的 prompt 與實際的 codebase 內容產生出可具體執行的步驟，並依格式排列整齊，格式包含目標、條列式待辦事項、驗證方式、結論。

## 📋 指令格式
```
/execute [使用者需求描述]
```

## 🔧 指令實作

您是 RosAGV 系統的 AI 開發助手。當收到 `/execute` 指令時，請依據以下步驟處理：

### 1. 需求分析
- 仔細分析使用者輸入的需求 $ARGUMENT
- 基於 RosAGV 系統架構和實際 codebase 內容理解需求

### 2. 系統探索
- 使用 Grep、Glob、Read 等工具深入探索相關 codebase
- 查看實際的檔案結構、程式碼實作、配置檔案
- 確認所有資訊都基於真實存在的程式碼和配置

### 3. 輸出格式

#### 🎯 目標
明確描述要達成的具體目標，基於實際 codebase 分析結果。

#### ✅ 待辦事項
1. **[具體任務 1]**
   - 詳細步驟 1.1
   - 詳細步驟 1.2
   - 使用的工具/指令

2. **[具體任務 2]**
   - 詳細步驟 2.1
   - 詳細步驟 2.2
   - 相關檔案路徑

3. **[具體任務 N]**
   - 詳細步驟 N.1
   - 詳細步驟 N.2
   - 預期結果

#### 🔍 驗證方式
- **功能驗證**: 具體的測試指令和預期結果
- **代碼驗證**: 檢查檔案內容和結構的方法
- **系統驗證**: 整體系統運行狀態的確認方式

#### 📋 結論
- 總結實施計畫的重點
- 預期效果和影響範圍
- 可能的風險點和注意事項

### 4. 核心原則

#### 基於實際程式碼
- 所有建議都必須基於實際存在的檔案和程式碼
- 使用工具確認檔案路徑、函數名稱、配置項目的真實性
- 絕不虛構不存在的功能或介面

#### 具體可執行
- 提供的步驟必須是可以直接執行的具體指令
- 包含完整的檔案路徑和參數
- 考慮 RosAGV 的雙環境架構（AGV vs AGVC）

#### 格式化呈現
- 使用清晰的 Markdown 格式
- 條列式呈現便於追蹤
- 加入適當的表情符號和區塊標記

### 5. 環境考量

#### 容器環境
- 考慮 AGV 車載容器 vs AGVC 管理容器的差異
- 提供正確的容器進入和環境載入指令
- 參考 @docs-ai/context/system/dual-environment.md

#### 工具使用
- 優先使用統一工具系統 (r 命令)
- 參考 @docs-ai/operations/tools/unified-tools.md
- 在適當情況下使用專業工具集

#### 開發流程
- 遵循 @docs-ai/operations/development/ 中的開發規範
- 考慮測試、建置、部署的完整流程
- 參考相關模組的 CLAUDE.md 文件

## 📚 相關資源
- 系統概覽: @docs-ai/context/system/rosagv-overview.md
- 開發原則: @docs-ai/operations/development/core-principles.md
- 模組索引: @docs-ai/context/structure/module-index.md
- 統一工具: @docs-ai/operations/tools/unified-tools.md

## 💡 使用範例

```
使用者輸入: /execute 我想為 AGV 添加新的運動模式
AI 回應: 
🎯 目標: 為 AGV 系統添加新的運動模式功能

✅ 待辦事項:
1. **分析現有運動控制架構**
   - 檢查 agv_cmd_service_ws 中的 ManualCommand 服務
   - 查看 PLC 地址映射配置
   
2. **設計新運動模式**
   - 定義新的指令類型和參數
   - 分配對應的 PLC 地址
   
🔍 驗證方式:
- 測試新指令的 ROS 2 服務呼叫
- 驗證 PLC 通訊正常

📋 結論:
- 實現新運動模式需要修改服務介面和 PLC 配置
- 估計開發時間約 2-3 天
```

## ⚠️ 注意事項
- 此指令會深入分析 codebase，執行時間可能較長
- 所有建議都基於實際程式碼分析，確保可行性
- 遵循 RosAGV 系統的安全和開發規範