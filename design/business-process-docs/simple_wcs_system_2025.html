<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple WCS æ¥µç°¡åŒ–é…ç½®é©…å‹•æ±ºç­–å¼•æ“ - RosAGV 2025</title>
    <link rel="stylesheet" href="assets/css/rosagv-common.css">
</head>
<body class="bg-red">
    <!-- æ¨™é¡Œå€åŸŸ -->
    <header class="header theme-red">
        <div class="container">
            <h1>ğŸ¤– Simple WCS æ¥µç°¡åŒ–é…ç½®é©…å‹•æ±ºç­–å¼•æ“</h1>
            <p class="subtitle">åŸºæ–¼ ROS 2 Jazzy + YAML é…ç½®çš„ç¾ä»£åŒ– WCS æ±ºç­–ç³»çµ±</p>
            <div class="last-updated">ç´” YAML é…ç½®é©…å‹•ï¼ŒAI Agent å‹å¥½ï¼Œå¤šæª”æ¡ˆæ¶æ§‹çš„ä¼æ¥­ç´š WCS æ±ºç­–å¼•æ“</div>
        </div>
    </header>

    <!-- å°èˆªé¸å–® -->
    <nav class="nav">
        <div class="nav-content">
            <ul class="nav-links">
                <li><a href="#overview" class="theme-red">ğŸ“Š ç³»çµ±æ¦‚è¦½</a></li>
                <li><a href="#architecture" class="theme-red">ğŸ—ï¸ æŠ€è¡“æ¶æ§‹</a></li>
                <li><a href="#yaml-config" class="theme-red">ğŸ“‹ YAML é…ç½®</a></li>
                <li><a href="#development" class="theme-red">ğŸ‘¨â€ğŸ’» é–‹ç™¼æŒ‡å°</a></li>
                <li><a href="#deployment" class="theme-red">ğŸš€ éƒ¨ç½²é‹è¡Œ</a></li>
                <li><a href="#best-practices" class="theme-red">ğŸ’¡ æœ€ä½³å¯¦è¸</a></li>
            </ul>
        </div>
    </nav>

    <!-- ä¸»è¦å…§å®¹ -->
    <main class="main-content">
        <div class="container">

            <!-- ç³»çµ±æ¦‚è¦½ -->
            <section id="overview" class="section theme-red">
                <h2>ğŸ“Š Simple WCS ç³»çµ±æ¦‚è¦½</h2>
                <p class="hero-subtitle">
                    Simple WCS æ¡ç”¨ç´” YAML é…ç½®é©…å‹•è¨­è¨ˆï¼Œæ”¯æ´ AI Agent è‡ªå‹•åŒ–ç®¡ç†ï¼ŒåŸºæ–¼ ROS 2 Jazzy çš„ä¼æ¥­ç´š WCS æ±ºç­–å¼•æ“
                </p>
                
                <div class="alert alert-warning" style="margin: 20px 0;">
                    <h3>âš ï¸ ç³»çµ±å·¥å…·ä½¿ç”¨å‰ææ¢ä»¶</h3>
                    <p><strong>ä½¿ç”¨ RosAGV <code>r</code> å·¥å…·é›†é€²è¡Œç³»çµ±è¨ºæ–·å’Œç®¡ç†ä¹‹å‰ï¼Œå¿…é ˆå°‡ RosAGV ç›®éŒ„åŠ å…¥ PATH ç’°å¢ƒè®Šæ•¸</strong></p>
                    <p>åœ¨ <code>~/.bashrc</code> ä¸­æ·»åŠ ï¼š<code>export PATH="/home/ct/RosAGV:$PATH"</code></p>
                    <p>é‡æ–°è¼‰å…¥ç’°å¢ƒï¼š<code>source ~/.bashrc</code> | é©—è­‰é…ç½®ï¼š<code>which r</code></p>
                    <p>Simple WCS ç›¸é—œè¨ºæ–·ï¼š<code>r agvc-check</code>, <code>r zenoh-config</code></p>
                </div>

                <div class="stats-grid">
                    <div class="stat-item theme-red">
                        <div class="stat-number">100%</div>
                        <div class="stat-label">é…ç½®é©…å‹•</div>
                    </div>
                    <div class="stat-item theme-red">
                        <div class="stat-number">3</div>
                        <div class="stat-label">æ¥­å‹™æµç¨‹</div>
                    </div>
                    <div class="stat-item theme-red">
                        <div class="stat-number">5</div>
                        <div class="stat-label">ç§’æ±ºç­–é€±æœŸ</div>
                    </div>
                    <div class="stat-item theme-red">
                        <div class="stat-number">20+</div>
                        <div class="stat-label">è§¸ç™¼æ¢ä»¶</div>
                    </div>
                </div>

                <div class="alert alert-info section-spacing">
                    <h3>ğŸ¯ è¨­è¨ˆç†å¿µ</h3>
                    <p><strong>æ¥µç°¡é…ç½®é©…å‹•</strong>ï¼šæ‰€æœ‰æ¥­å‹™é‚è¼¯é€é YAML é…ç½®å¯¦ç¾ï¼Œæ¯å€‹æµç¨‹ç¨ç«‹æª”æ¡ˆï¼Œæ”¯æ´ AI Agent ä½¿ç”¨ yq å·¥å…·é€²è¡Œè‡ªå‹•åŒ–ç®¡ç†ï¼Œå¤§å¹…é™ä½é–‹ç™¼å’Œç¶­è­·æˆæœ¬ã€‚</p>
                </div>

                <div class="feature-grid">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon theme-red">ğŸš€</div>
                            <div class="card-title">æ ¸å¿ƒç‰¹è‰²</div>
                        </div>
                        <div class="card-content">
                            <ul>
                                <li><strong>é…ç½®é©…å‹•</strong>ï¼šç´” YAML é…ç½®ï¼Œç„¡éœ€ä¿®æ”¹ç¨‹å¼ç¢¼</li>
                                <li><strong>å¤šæª”æ¡ˆæ¶æ§‹</strong>ï¼šæ¯å€‹æµç¨‹ç¨ç«‹é…ç½®æª”æ¡ˆ</li>
                                <li><strong>ROS 2 æ•´åˆ</strong>ï¼šåŸç”Ÿ ROS 2 ç¯€é»å¯¦ä½œï¼ŒZenoh RMW æ”¯æ´</li>
                                <li><strong>è³‡æ–™åº«æ•´åˆ</strong>ï¼šç›´æ¥æ•´åˆ db_proxy é€£æ¥æ± ç®¡ç†å™¨</li>
                                <li><strong>æ™ºèƒ½æ±ºç­–</strong>ï¼šåŸºæ–¼å¯¦éš›è³‡æ–™åº«ç‹€æ…‹çš„è‡ªå‹•æ±ºç­–</li>
                            </ul>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon theme-red">ğŸ’¼</div>
                            <div class="card-title">æ¥­å‹™åƒ¹å€¼</div>
                        </div>
                        <div class="card-content">
                            <ul>
                                <li><strong>è‡ªå‹•åŒ–æ±ºç­–</strong>ï¼šRack æ—‹è½‰å’Œé‹è¼¸ä»»å‹™çš„å…¨è‡ªå‹•æª¢æ¸¬</li>
                                <li><strong>é˜²è¡çªæ©Ÿåˆ¶</strong>ï¼šå®Œæ•´çš„ä»»å‹™è¡çªæª¢æŸ¥å’Œé˜²è­·é‚è¼¯</li>
                                <li><strong>ç³»çµ±æ•´åˆ</strong>ï¼šç„¡ç¸«æ•´åˆ KUKA Fleet å’Œç¾æœ‰ RosAGV</li>
                                <li><strong>é…ç½®éˆæ´»</strong>ï¼šæ¥­å‹™æµç¨‹é…ç½®åŒ–ï¼Œæ˜“æ–¼èª¿æ•´æ“´å±•</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- æŠ€è¡“æ¶æ§‹ -->
            <section id="architecture" class="section theme-green">
                <h2>ğŸ—ï¸ Simple WCS æŠ€è¡“æ¶æ§‹</h2>
                
                <div class="alert alert-success">
                    <h3>ğŸ¯ ç³»çµ±æ¶æ§‹ç‰¹æ€§</h3>
                    <p><strong>é…ç½®é©…å‹•æ±ºç­–å¼•æ“</strong>ï¼šåŸºæ–¼ ROS 2 Jazzy çš„ç´” YAML é…ç½®é©…å‹•ç³»çµ±ï¼Œæ”¯æ´å¤šæª”æ¡ˆæµç¨‹ç®¡ç†å’Œ AI Agent è‡ªå‹•åŒ–é…ç½®</p>
                </div>

                <div class="architecture-flow">
                    <h3>Simple WCS ç³»çµ±æ¶æ§‹æµç¨‹</h3>
                    <div class="flow-row">
                        <div class="flow-box">SimpleWCSEngine<br><small>ROS 2 ç¯€é»</small></div>
                        <span class="flow-arrow">â†’</span>
                        <div class="flow-box">FlowParser<br><small>YAML è§£æå™¨</small></div>
                        <span class="flow-arrow">â†’</span>
                        <div class="flow-box">DatabaseClient<br><small>SQLModel ORM</small></div>
                    </div>
                    <div class="flow-row">
                        <div class="flow-box">LocationManager<br><small>ä½ç½®é…ç½®</small></div>
                        <span class="flow-arrow">â†—</span>
                        <div class="flow-box">æ±ºç­–å¾ªç’°<br><small>æ¯5ç§’</small></div>
                        <span class="flow-arrow">â†˜</span>
                        <div class="flow-box">ROS 2 ç™¼å¸ƒ<br><small>ä»»å‹™æ±ºç­–</small></div>
                    </div>
                </div>

                <div class="feature-grid">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon theme-green">ğŸ“</div>
                            <div class="card-title">é…ç½®æª”æ¡ˆçµæ§‹</div>
                        </div>
                        <div class="card-content">
                            <div class="code-grid">
                                <div>
                                    <h4 class="code-section-title">ğŸ“ å·¥ä½œç©ºé–“çµæ§‹</h4>
                                    <pre><code>simple_wcs_ws/
â”œâ”€â”€ src/simple_wcs/
â”‚   â”œâ”€â”€ simple_wcs/
â”‚   â”‚   â”œâ”€â”€ wcs_engine.py               # æ ¸å¿ƒæ±ºç­–å¼•æ“ (ROS 2 ç¯€é»)
â”‚   â”‚   â”œâ”€â”€ flow_parser.py              # å¤šæª”æ¡ˆ YAML è§£æå™¨
â”‚   â”‚   â””â”€â”€ database_client.py          # SQLModel è³‡æ–™åº«å®¢æˆ¶ç«¯
â”‚   â”œâ”€â”€ package.xml                     # ROS 2 å¥—ä»¶é…ç½®
â”‚   â””â”€â”€ launch/simple_wcs_launch.py     # ROS 2 Launch æª”æ¡ˆ
â”œâ”€â”€ test_simple_wcs.py                  # åŸºæœ¬åŠŸèƒ½æ¸¬è©¦
â””â”€â”€ test_exit_rotation.py               # å‡ºå£æ—‹è½‰æ¸¬è©¦</code></pre>
                                </div>
                                
                                <div>
                                    <h4 class="code-section-title">âš™ï¸ é…ç½®æª”æ¡ˆä½ç½®</h4>
                                    <pre><code>/app/config/wcs/
â”œâ”€â”€ flows/                              # æ¥­å‹™æµç¨‹ç›®éŒ„
â”‚   â”œâ”€â”€ rack_rotation_inlet.yaml        # Rackæ—‹è½‰-å…¥å£ (å„ªå…ˆç´š100)
â”‚   â”œâ”€â”€ rack_rotation_exit.yaml         # Rackæ—‹è½‰-å‡ºå£ (å„ªå…ˆç´š90)
â”‚   â””â”€â”€ full_rack_to_manual_area.yaml   # æ»¿æ–™æ¶é‹è¼¸ (å„ªå…ˆç´š80)
â””â”€â”€ locations.yaml                      # éœæ…‹ä½ç½®é…ç½®</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon theme-green">ğŸ”§</div>
                            <div class="card-title">æ ¸å¿ƒçµ„ä»¶</div>
                        </div>
                        <div class="card-content">
                            <ul>
                                <li><strong>SimpleWCSEngine</strong>ï¼šROS 2 ç¯€é»ï¼Œ5ç§’æ±ºç­–å¾ªç’°</li>
                                <li><strong>FlowParser</strong>ï¼šå¤šæª”æ¡ˆ YAML è§£æå™¨</li>
                                <li><strong>DatabaseClient</strong>ï¼šç›´æ¥æ•´åˆ db_proxy é€£æ¥æ± </li>
                                <li><strong>LocationManager</strong>ï¼šå…§åµŒä½ç½®é…ç½®ç®¡ç†</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- YAML é…ç½® -->
            <section id="yaml-config" class="section theme-blue">
                <h2>ğŸ“‹ YAML é…ç½®æ ¼å¼</h2>
                
                <div class="alert alert-info content-spacing">
                    <h3>ğŸ¯ å¯¦éš›æ¥­å‹™æµç¨‹é…ç½®</h3>
                    <p><strong>Simple WCS ç›®å‰æ”¯æ´ 3 å€‹æ ¸å¿ƒæ¥­å‹™æµç¨‹</strong>ï¼Œæ¯å€‹æµç¨‹å°æ‡‰ä¸€å€‹ç¨ç«‹çš„ YAML é…ç½®æª”æ¡ˆï¼Œæ¡ç”¨å„ªå…ˆç´šæ’åºåŸ·è¡Œã€‚</p>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="card-icon theme-blue">ğŸ”„</div>
                        <div class="card-title">1. Rackæ—‹è½‰æª¢æŸ¥-æˆ¿é–“å…¥å£ (å„ªå…ˆç´š: 100)</div>
                    </div>
                    <div class="card-content">
                        <p><strong>æª”æ¡ˆä½ç½®</strong>: /app/config/wcs/flows/rack_rotation_inlet.yaml</p>
                        <p><strong>åŠŸèƒ½</strong>: ç•¶ Rack Aé¢å®Œæˆå¾Œï¼Œæª¢æŸ¥æ˜¯å¦éœ€è¦æ—‹è½‰è™•ç† Bé¢</p>
                        <div class="info-note">
                            <pre><code>name: "Rackæ—‹è½‰æª¢æŸ¥-æˆ¿é–“å…¥å£"
description: "ç•¶ Rack Aé¢å®Œæˆå¾Œï¼Œæª¢æŸ¥æ˜¯å¦éœ€è¦æ—‹è½‰è™•ç† Bé¢"
priority: 100
work_id: "220001"
enabled: true

trigger_conditions:
  - condition: "rack_at_location_exists"
    description: "æˆ¿é–“å…¥å£ä½ç½®æœ‰ Rack"
    parameters:
      location_type: "room_inlet"
      
  - condition: "rack_side_completed" 
    description: "Rack Aé¢å·²å®Œæˆ"
    parameters:
      side: "A"
      
  - condition: "rack_has_b_side_work"
    description: "Rack Bé¢æœ‰å¾…è™•ç†å·¥ä½œ"
      
  - condition: "rack_needs_rotation_for_b_side"
    description: "Rack éœ€è¦æ—‹è½‰ä»¥è™•ç† Bé¢"
    parameters:
      location_type: "room_inlet"
      
  - condition: "no_active_task"
    description: "è©²ä½ç½®ç„¡è¡çªä»»å‹™"
    parameters:
      work_id: "220001"

action:
  type: "create_task"
  task_type: "rack_rotation"
  function: "rack_move"
  model: "KUKA400i"
  api: "submit_mission"
  mission_type: "RACK_MOVE"
  
applicable_rooms: [1, 2, 3, 4, 5]</code></pre>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="card-icon theme-blue">ğŸ”„</div>
                        <div class="card-title">2. Rackæ—‹è½‰æª¢æŸ¥-æˆ¿é–“å‡ºå£ (å„ªå…ˆç´š: 90)</div>
                    </div>
                    <div class="card-content">
                        <p><strong>æª”æ¡ˆä½ç½®</strong>: /app/config/wcs/flows/rack_rotation_exit.yaml</p>
                        <p><strong>åŠŸèƒ½</strong>: ç•¶æˆ¿é–“å‡ºå£ Rack Bé¢å®Œæˆå¾Œï¼Œæ—‹è½‰å› Aé¢ä»¥ä¾¿å¾ŒçºŒæ¬é‹</p>
                        <div class="success-note">
                            <pre><code>name: "Rackæ—‹è½‰æª¢æŸ¥-æˆ¿é–“å‡ºå£"
description: "ç•¶æˆ¿é–“å‡ºå£æœ‰Rackä¸”Bé¢å®Œæˆå¾Œï¼Œéœ€è¦æ—‹è½‰å›Aé¢ä»¥ä¾¿å¾ŒçºŒæ¬é‹"
priority: 90
work_id: "220001"
enabled: true

trigger_conditions:
  - condition: "rack_at_location_exists"
    description: "æˆ¿é–“å‡ºå£ä½ç½®æœ‰ Rack"
    parameters:
      location_type: "room_exit"
      
  - condition: "rack_side_completed"
    description: "Rack Bé¢å·²å®Œæˆ"
    parameters:
      side: "B"
      
  - condition: "rack_has_a_side_work"
    description: "Rack Aé¢æœ‰å¾…è™•ç†å·¥ä½œ"
    parameters:
      side: "A"
      
  - condition: "rack_needs_rotation_for_a_side"
    description: "Rack éœ€è¦æ—‹è½‰ä»¥è™•ç† Aé¢ (å¾ 180åº¦ â†’ 0åº¦)"
    parameters:
      location_type: "room_exit"
      from_direction: 180
      to_direction: 0

action:
  type: "create_task"
  task_type: "rack_rotation"
  function: "rack_move"
  model: "KUKA400i"
  
applicable_rooms: [1, 2, 3, 4, 5]</code></pre>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="card-icon theme-blue">ğŸš›</div>
                        <div class="card-title">3. æ»¿æ–™æ¶åˆ°äººå·¥æ”¶æ–™å€ (å„ªå…ˆç´š: 80)</div>
                    </div>
                    <div class="card-content">
                        <p><strong>æª”æ¡ˆä½ç½®</strong>: /app/config/wcs/flows/full_rack_to_manual_area.yaml</p>
                        <p><strong>åŠŸèƒ½</strong>: ç•¶å‚³é€ç®±å‡ºå£æœ‰æ»¿æ–™æ¶æ™‚ï¼Œé‹è¼¸åˆ°äººå·¥æ”¶æ–™å€é€²è¡Œè™•ç†</p>
                        <div class="warning-note">
                            <pre><code>name: "æ»¿æ–™æ¶åˆ°äººå·¥æ”¶æ–™å€-å‚³é€ç®±å‡ºå£"
description: "ç•¶å‚³é€ç®±å‡ºå£æœ‰æ»¿è»Šæ™‚ï¼Œéœ€è¦æ¬é‹åˆ°äººå·¥æ”¶æ–™å€é€²è¡Œè™•ç†"
priority: 80
work_id: "220001"
enabled: true

trigger_conditions:
  - condition: "transfer_exit_has_full_rack"
    description: "å‚³é€ç®±å‡ºå£ä½ç½®æœ‰æ»¿æ–™æ¶"
    parameters:
      location_type: "transfer_exit"
      
  - condition: "rack_is_full"
    description: "æ¶ä¸Šçš„ Carrier å·²æ»¿è¼‰"
    parameters:
      check_type: "full_capacity"
      
  - condition: "no_active_task_from_source"
    description: "ä¾†æºåœ°æ²’æœ‰é€²è¡Œä¸­çš„é‹è¼¸ä»»å‹™ (é¿å…é‡è¤‡æ´¾è»Š)"
    parameters:
      source_type: "transfer_exit"
      work_id: "220001"
      
  - condition: "manual_collection_area_available"
    description: "äººå·¥æ”¶æ–™å€æœ‰å¯ç”¨ç©ºé–“"
    parameters:
      area_type: "manual_collection"

action:
  type: "create_task"
  task_type: "rack_transport"
  function: "rack_move"
  model: "KUKA400i"
  api: "submit_mission"
  mission_type: "RACK_MOVE"
  
applicable_locations: [20001, 20002, 20003, 20004, 20005]</code></pre>
                        </div>
                    </div>
                </div>

                <div class="feature-grid">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon theme-blue">ğŸ› ï¸</div>
                            <div class="card-title">AI Agent yq å·¥å…·æ•´åˆ</div>
                        </div>
                        <div class="card-content">
                            <p>Simple WCS å®Œå…¨æ”¯æ´ AI Agent ä½¿ç”¨ yq å·¥å…·é€²è¡Œé…ç½®ç®¡ç†ï¼š</p>
                            
                            <div class="code-multi-section">
                                <div class="code-section">
                                    <div class="code-section-header">ğŸ” é…ç½®æŸ¥è©¢</div>
                                    <pre><code><span class="command-type-config"># æŸ¥è©¢æ¥­å‹™æµç¨‹é…ç½®</span>
yq '.name' flows/rack_rotation_inlet.yaml
yq '.priority' flows/rack_rotation_inlet.yaml
yq '.trigger_conditions[].condition' flows/rack_rotation_inlet.yaml</code></pre>
                                </div>

                                <div class="code-section">
                                    <div class="code-section-header">âœï¸ é…ç½®ä¿®æ”¹</div>
                                    <pre><code><span class="command-type-config"># ä¿®æ”¹å„ªå…ˆç´šå’Œå•Ÿç”¨ç‹€æ…‹</span>
yq '.priority = 120' flows/rack_rotation_inlet.yaml > updated_flow.yaml
yq '.enabled = false' flows/rack_rotation_inlet.yaml > disabled_flow.yaml</code></pre>
                                </div>

                                <div class="code-section">
                                    <div class="code-section-header">â• æ–°å¢é…ç½®é …ç›®</div>
                                    <pre><code><span class="command-type-config"># æ–°å¢è§¸ç™¼æ¢ä»¶</span>
yq '.trigger_conditions += [{
  "condition": "new_condition", 
  "description": "æ–°æ¢ä»¶", 
  "parameters": {}
}]' flows/rack_rotation_inlet.yaml</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon theme-blue">ğŸ“Š</div>
                            <div class="card-title">é…ç½®ç®¡ç†å·¥ä½œæµç¨‹</div>
                        </div>
                        <div class="card-content">
                            <div class="process-steps">
                                <div class="step-item">
                                    <div class="step-number">1</div>
                                    <div class="step-content">
                                        <h4>AI Agent æƒæ</h4>
                                        <p>flows/ ç›®éŒ„ç™¼ç¾æ‰€æœ‰æ¥­å‹™æµç¨‹</p>
                                    </div>
                                </div>
                                <div class="step-item">
                                    <div class="step-number">2</div>
                                    <div class="step-content">
                                        <h4>åˆ†æç¾æœ‰é…ç½®</h4>
                                        <p>ä½¿ç”¨ yq è§£æå„æµç¨‹åƒæ•¸</p>
                                    </div>
                                </div>
                                <div class="step-item">
                                    <div class="step-number">3</div>
                                    <div class="step-content">
                                        <h4>å‹•æ…‹èª¿æ•´é…ç½®</h4>
                                        <p>æ ¹æ“šç³»çµ±ç‹€æ…‹ä¿®æ”¹ YAML æª”æ¡ˆ</p>
                                    </div>
                                </div>
                                <div class="step-item">
                                    <div class="step-number">4</div>
                                    <div class="step-content">
                                        <h4>é©—è­‰é…ç½®è®Šæ›´</h4>
                                        <p>Simple WCS è‡ªå‹•è¼‰å…¥æ–°é…ç½®</p>
                                    </div>
                                </div>
                                <div class="step-item">
                                    <div class="step-number">5</div>
                                    <div class="step-content">
                                        <h4>ç›£æ§åŸ·è¡Œçµæœ</h4>
                                        <p>é€é ROS 2 è¨Šæ¯ç›£æ§æ±ºç­–æ•ˆæœ</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- é–‹ç™¼æŒ‡å° -->
            <section id="development" class="section theme-purple">
                <h2>ğŸ‘¨â€ğŸ’» é–‹ç™¼æŒ‡å°</h2>
                
                <div class="feature-grid">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon theme-purple">ğŸš€</div>
                            <div class="card-title">é–‹ç™¼ç’°å¢ƒè¨­å®š</div>
                        </div>
                        <div class="card-content">
                            <div class="process-steps">
                                <div class="step-item">
                                    <div class="step-number">1</div>
                                    <div class="step-content">
                                        <h4>é€²å…¥ AGVC å®¹å™¨</h4>
                                        <pre><code>docker compose -f docker-compose.agvc.yml exec agvc_server bash</code></pre>
                                        <p class="step-description">Simple WCS éœ€è¦è³‡æ–™åº«å­˜å–ï¼Œå¿…é ˆåœ¨ AGVC å®¹å™¨å…§åŸ·è¡Œ</p>
                                    </div>
                                </div>
                                <div class="step-item">
                                    <div class="step-number">2</div>
                                    <div class="step-content">
                                        <h4>è¼‰å…¥é–‹ç™¼ç’°å¢ƒ</h4>
                                        <pre><code>all_source  # æˆ– agvc_source</code></pre>
                                        <p class="step-description">è‡ªå‹•è¨­å®š RMW å’Œ PYTHONPATH ç’°å¢ƒè®Šæ•¸</p>
                                    </div>
                                </div>
                                <div class="step-item">
                                    <div class="step-number">3</div>
                                    <div class="step-content">
                                        <h4>é€²å…¥å·¥ä½œç©ºé–“</h4>
                                        <pre><code>cd /app/simple_wcs_ws</code></pre>
                                    </div>
                                </div>
                                <div class="step-item">
                                    <div class="step-number">4</div>
                                    <div class="step-content">
                                        <h4>å»ºç½®å¥—ä»¶</h4>
                                        <pre><code>colcon build --packages-select simple_wcs</code></pre>
                                        <p class="step-description">é¦–æ¬¡åŸ·è¡Œæˆ–ç¨‹å¼ç¢¼ä¿®æ”¹å¾Œéœ€è¦é‡æ–°å»ºç½®</p>
                                    </div>
                                </div>
                                <div class="step-item">
                                    <div class="step-number">5</div>
                                    <div class="step-content">
                                        <h4>è¼‰å…¥å»ºç½®çµæœ</h4>
                                        <pre><code>source install/setup.bash</code></pre>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon theme-purple">ğŸ”§</div>
                            <div class="card-title">å»ºç½®å’Œæ¸¬è©¦</div>
                        </div>
                        <div class="card-content">
                            <h4 class="code-title">ğŸ”¨ å»ºç½®å¥—ä»¶</h4>
                            <pre><code><span class="command-type-development"># å»ºç½® Simple WCS å¥—ä»¶</span>
colcon build --packages-select simple_wcs</code></pre>
                            
                            <h4 class="code-title">ğŸ§ª è§£æå™¨æ¸¬è©¦</h4>
                            <pre><code><span class="command-type-diagnostic"># æ¸¬è©¦ YAML è§£æå™¨</span>
python3 -c "
from simple_wcs.flow_parser import FlowParser
parser = FlowParser('/app/config/wcs/flows')
flows = parser.parse()
print(f'è¼‰å…¥ {len(flows)} å€‹æ¥­å‹™æµç¨‹')
for flow in flows:
    print(f'- {flow.name} (å„ªå…ˆç´š: {flow.priority})')
"</code></pre>

                            <h4 class="code-title">âš¡ å¼•æ“æ¸¬è©¦</h4>
                            <pre><code><span class="command-type-development"># åŸ·è¡Œ 30 ç§’æ¸¬è©¦</span>
timeout 30 python3 -m simple_wcs.wcs_engine

<span class="command-type-development"># æˆ–åŸ·è¡ŒåŸºæœ¬åŠŸèƒ½æ¸¬è©¦</span>
python3 test_simple_wcs.py
python3 test_exit_rotation.py</code></pre>

                            <h4 class="code-title">ğŸ” è³‡æ–™åº«é€£æ¥æ¸¬è©¦</h4>
                            <pre><code><span class="command-type-diagnostic"># æ¸¬è©¦è³‡æ–™åº«å®¢æˆ¶ç«¯</span>
python3 -c "
import sys
sys.path.append('/app/simple_wcs_ws/src/simple_wcs')
sys.path.append('/app/db_proxy_ws/src')
from simple_wcs.database_client import DatabaseClient

db = DatabaseClient()
print('âœ… è³‡æ–™åº«é€£æ¥æˆåŠŸ')
stats = db.get_rack_statistics()
print(f'Rack çµ±è¨ˆ: {stats}')
"</code></pre>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="card-icon theme-purple">ğŸ“Š</div>
                        <div class="card-title">æ–°å¢æ¥­å‹™æµç¨‹</div>
                    </div>
                    <div class="card-content">
                        <div class="process-steps">
                            <div class="step-item">
                                <div class="step-number">1</div>
                                <div class="step-content">
                                    <h4>å»ºç«‹æ–°çš„æµç¨‹æª”æ¡ˆ</h4>
                                    <p>åœ¨ /app/config/wcs/flows/ ç›®éŒ„å»ºç«‹æ–°çš„ .yaml æª”æ¡ˆ</p>
                                </div>
                            </div>
                            <div class="step-item">
                                <div class="step-number">2</div>
                                <div class="step-content">
                                    <h4>å¯¦ä½œæ¢ä»¶æª¢æŸ¥æ–¹æ³•</h4>
                                    <p>åœ¨ database_client.py ä¸­å¯¦ä½œæ¢ä»¶æª¢æŸ¥æ–¹æ³•</p>
                                </div>
                            </div>
                            <div class="step-item">
                                <div class="step-number">3</div>
                                <div class="step-content">
                                    <h4>æ–°å¢æ¢ä»¶è©•ä¼°é‚è¼¯</h4>
                                    <p>åœ¨ wcs_engine.py ä¸­æ–°å¢æ¢ä»¶è©•ä¼°é‚è¼¯</p>
                                </div>
                            </div>
                            <div class="step-item">
                                <div class="step-number">4</div>
                                <div class="step-content">
                                    <h4>æ¸¬è©¦æ–°æµç¨‹</h4>
                                    <p>ç³»çµ±è‡ªå‹•è¼‰å…¥æ–°æµç¨‹ä¸¦åŸ·è¡Œæ¸¬è©¦</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- éƒ¨ç½²é‹è¡Œ -->
            <section id="deployment" class="section theme-orange">
                <h2>ğŸš€ éƒ¨ç½²é‹è¡Œ</h2>
                
                <div class="feature-grid">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon theme-orange">ğŸ“¦</div>
                            <div class="card-title">ROS 2 éƒ¨ç½²é…ç½®</div>
                        </div>
                        <div class="card-content">
                            <h4 class="code-title">ğŸ“ å·¥ä½œç©ºé–“æº–å‚™</h4>
                            <pre><code><span class="command-type-development"># é€²å…¥å·¥ä½œç©ºé–“ä¸¦å»ºç½®</span>
cd /app/simple_wcs_ws
colcon build --packages-select simple_wcs</code></pre>
                            
                            <h4 class="code-title">âš™ï¸ ç’°å¢ƒè®Šæ•¸è¨­å®š</h4>
                            <pre><code><span class="command-type-config"># RMW ä¸­é–“ä»¶è¨­å®š (é€šå¸¸å·²è‡ªå‹•è¨­å®š)</span>
export RMW_IMPLEMENTATION=rmw_zenohd

<span class="command-type-config"># Python è·¯å¾‘è¨­å®š (é€šå¸¸å·²è‡ªå‹•è¨­å®š)</span>
export PYTHONPATH=/opt/pyvenv_env/lib/python3.12/site-packages:/app/db_proxy_ws/src:$PYTHONPATH</code></pre>

                            <h4 class="code-title">ğŸš€ å•Ÿå‹•æ–¹å¼</h4>
                            <pre><code><span class="command-type-development"># è¼‰å…¥å»ºç½®çµæœ</span>
source install/setup.bash

<span class="command-type-success"># æ–¹æ³• 1: ä½¿ç”¨ ROS 2 run (æ¨è–¦)</span>
ros2 run simple_wcs simple_wcs_node</code></pre>

                            <pre><code><span class="command-type-development"># æ–¹æ³• 2: ä½¿ç”¨ Launch æª”æ¡ˆ</span>
ros2 launch simple_wcs simple_wcs_launch.py

<span class="command-type-development"># æ–¹æ³• 3: ç›´æ¥åŸ·è¡Œä¸»å‡½æ•¸</span>
python3 -c "
import sys
sys.path.append('src/simple_wcs')
from simple_wcs.wcs_engine import main
main()
"

<span class="command-type-info"># æ–¹æ³• 4: èƒŒæ™¯åŸ·è¡Œ</span>
nohup ros2 run simple_wcs simple_wcs_node > /tmp/simple_wcs.log 2>&1 &</code></pre>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon theme-orange">ğŸ“Š</div>
                            <div class="card-title">ç³»çµ±ç›£æ§</div>
                        </div>
                        <div class="card-content">
                            <h4 class="code-title">ğŸ“Š ROS 2 ä¸»é¡Œç›£æ§</h4>
                            <pre><code><span class="command-type-diagnostic"># ç›£æ§ç³»çµ±ç‹€æ…‹</span>
ros2 topic echo /simple_wcs/system_status

<span class="command-type-diagnostic"># ç›£æ§ä»»å‹™æ±ºç­–</span>
ros2 topic echo /simple_wcs/task_decisions</code></pre>

                            <h4 class="code-title">ğŸ” ç¯€é»è¨ºæ–·</h4>
                            <pre><code><span class="command-type-diagnostic"># æŸ¥çœ‹ç¯€é»è©³ç´°è³‡è¨Š</span>
ros2 node info /simple_wcs_engine

<span class="command-type-diagnostic"># åˆ—å‡ºæ‰€æœ‰ç¯€é»</span>
ros2 node list | grep simple_wcs</code></pre>

                            <h4 class="code-title">âš™ï¸ ç³»çµ±æª¢æŸ¥</h4>
                            <pre><code><span class="command-type-diagnostic"># æª¢æŸ¥ä¸»é¡Œé »ç‡</span>
ros2 topic hz /simple_wcs/system_status

<span class="command-type-diagnostic"># æª¢æŸ¥ Zenoh é€šè¨Š</span>
ros2 topic list <span class="command-description"># ç¢ºèªè·¨å®¹å™¨ä¸»é¡Œç™¼ç¾</span></code></pre>

                            <h4 class="code-title">ğŸ—„ï¸ è³‡æ–™åº«æª¢æŸ¥</h4>
                            <pre><code><span class="command-type-diagnostic"># æª¢æŸ¥è³‡æ–™åº«é€£æ¥</span>
docker compose -f docker-compose.agvc.yml exec postgres_container \
  psql -U agvc -d agvc -c "SELECT COUNT(*) FROM rack;"

<span class="command-type-info"># æŸ¥çœ‹ç³»çµ±æ—¥èªŒ</span>
tail -f /tmp/simple_wcs.log</code></pre>
                        </div>
                    </div>
                </div>

                <div class="architecture-flow">
                    <h3>æ±ºç­–å¾ªç’°æµç¨‹</h3>
                    <div class="flow-row">
                        <div class="flow-box">è¼‰å…¥å•Ÿç”¨æµç¨‹<br><small>æƒæ flows/</small></div>
                        <span class="flow-arrow">â†’</span>
                        <div class="flow-box">æŒ‰å„ªå…ˆç´šæ’åº<br><small>é«˜å„ªå…ˆç´šå„ªå…ˆ</small></div>
                        <span class="flow-arrow">â†’</span>
                        <div class="flow-box">æª¢æŸ¥è§¸ç™¼æ¢ä»¶<br><small>å…¨éƒ¨æ¢ä»¶ AND</small></div>
                    </div>
                    <div class="flow-row">
                        <div class="flow-box">ç”¢ç”Ÿä»»å‹™æ±ºç­–<br><small>TaskDecision</small></div>
                        <span class="flow-arrow">â†’</span>
                        <div class="flow-box">åŸ·è¡Œä»»å‹™å»ºç«‹<br><small>KUKA API</small></div>
                        <span class="flow-arrow">â†’</span>
                        <div class="flow-box">ç™¼å¸ƒ ROS 2 è¨Šæ¯<br><small>ç³»çµ±ç‹€æ…‹</small></div>
                    </div>
                </div>
            </section>

            <!-- æœ€ä½³å¯¦è¸ -->
            <section id="best-practices" class="section theme-cyan">
                <h2>ğŸ’¡ æœ€ä½³å¯¦è¸</h2>
                
                <div class="feature-grid">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon theme-cyan">ğŸ“‹</div>
                            <div class="card-title">é…ç½®ç®¡ç†</div>
                        </div>
                        <div class="card-content">
                            <ul>
                                <li><strong>æª”æ¡ˆå‘½å</strong>ï¼šä½¿ç”¨æè¿°æ€§åç¨± (å¦‚ rack_rotation_inlet.yaml)</li>
                                <li><strong>å„ªå…ˆç´šè¨­å®š</strong>ï¼šé—œéµæµç¨‹ä½¿ç”¨é«˜å„ªå…ˆç´š (100+)</li>
                                <li><strong>æˆ¿é–“ç¯„åœ</strong>ï¼šæ˜ç¢ºæŒ‡å®š applicable_rooms é¿å…è¡çª</li>
                                <li><strong>èª¿è©¦é…ç½®</strong>ï¼šé–‹ç™¼æ™‚å•Ÿç”¨è©³ç´°æ—¥èªŒå’Œæ¢ä»¶è¿½è¹¤</li>
                            </ul>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon theme-cyan">âš¡</div>
                            <div class="card-title">æ•ˆèƒ½æœ€ä½³åŒ–</div>
                        </div>
                        <div class="card-content">
                            <ul>
                                <li><strong>æ±ºç­–é€±æœŸ</strong>ï¼šæ ¹æ“šæ¥­å‹™éœ€æ±‚èª¿æ•´æ±ºç­–å¾ªç’°é–“éš”</li>
                                <li><strong>æ¢ä»¶æœ€ä½³åŒ–</strong>ï¼šå°‡æœ€å¸¸è¦‹çš„æ¢ä»¶æ”¾åœ¨å‰é¢</li>
                                <li><strong>è³‡æ–™åº«æŸ¥è©¢</strong>ï¼šä½¿ç”¨é€£æ¥æ± å’Œé©ç•¶çš„æŸ¥è©¢æœ€ä½³åŒ–</li>
                                <li><strong>ROS 2 é€šè¨Š</strong>ï¼šåˆç†è¨­å®š QoS å’Œä¸»é¡Œè¨­è¨ˆ</li>
                            </ul>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon theme-cyan">ğŸ”</div>
                            <div class="card-title">æ•…éšœæ’é™¤</div>
                        </div>
                        <div class="card-content">
                            <ul>
                                <li><strong>é…ç½®é©—è­‰</strong>ï¼šå®šæœŸæª¢æŸ¥ YAML èªæ³•å’Œçµæ§‹å®Œæ•´æ€§</li>
                                <li><strong>æ¢ä»¶æ—¥èªŒ</strong>ï¼šä½¿ç”¨ log_conditions: true è¿½è¹¤æ¢ä»¶è©•ä¼°</li>
                                <li><strong>ç³»çµ±ç›£æ§</strong>ï¼šç›£æ§ ROS 2 ä¸»é¡Œå’Œç¯€é»ç‹€æ…‹</li>
                                <li><strong>è³‡æ–™åº«é€£æ¥</strong>ï¼šæª¢æŸ¥è³‡æ–™åº«é€£æ¥å’ŒæŸ¥è©¢æ•ˆèƒ½</li>
                            </ul>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon theme-cyan">ğŸ› ï¸</div>
                            <div class="card-title">æ“´å±•æŒ‡å°</div>
                        </div>
                        <div class="card-content">
                            <ul>
                                <li><strong>æ–°å¢æ¥­å‹™æµç¨‹</strong>ï¼šåœ¨ flows/ ç›®éŒ„å»ºç«‹æ–°çš„ .yaml æª”æ¡ˆ</li>
                                <li><strong>æ–°å¢è§¸ç™¼æ¢ä»¶</strong>ï¼šåœ¨ database_client.py å¯¦ä½œæ¢ä»¶æª¢æŸ¥</li>
                                <li><strong>ç³»çµ±ç›£æ§</strong>ï¼šä½¿ç”¨ debug æ¨¡å¼é€²è¡Œè©³ç´°è¿½è¹¤</li>
                                <li><strong>AI æ•´åˆ</strong>ï¼šå……åˆ†åˆ©ç”¨ yq å·¥å…·é€²è¡Œé…ç½®è‡ªå‹•åŒ–</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="card-icon theme-cyan">ğŸ¯</div>
                        <div class="card-title">é—œéµæˆåŠŸå› ç´ </div>
                    </div>
                    <div class="card-content">
                        <div class="stats-grid">
                            <div class="stat-item theme-cyan">
                                <h4>é…ç½®é©…å‹•è¨­è¨ˆ</h4>
                                <p>æ‰€æœ‰æ¥­å‹™é‚è¼¯éƒ½é€é YAML é…ç½®å¯¦ç¾ï¼Œå¤§å¹…é™ä½é–‹ç™¼å’Œç¶­è­·æˆæœ¬</p>
                            </div>
                            <div class="stat-item theme-cyan">
                                <h4>AI Agent æ•´åˆ</h4>
                                <p>å®Œå…¨æ”¯æ´ yq å·¥å…·ï¼Œå¯¦ç¾ AI Agent è‡ªå‹•åŒ–é…ç½®ç®¡ç†</p>
                            </div>
                            <div class="stat-item theme-cyan">
                                <h4>ROS 2 åŸç”Ÿæ•´åˆ</h4>
                                <p>åŸºæ–¼ ROS 2 Jazzyï¼Œç„¡ç¸«æ•´åˆç¾æœ‰ RosAGV ç”Ÿæ…‹ç³»çµ±</p>
                            </div>
                            <div class="stat-item theme-cyan">
                                <h4>ä¼æ¥­ç´šå¯é æ€§</h4>
                                <p>é€£æ¥æ± ç®¡ç†ã€éŒ¯èª¤è™•ç†ã€ç³»çµ±ç›£æ§ç­‰ä¼æ¥­ç´šç‰¹æ€§</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- é è…³ -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>ğŸ¤– Simple WCS System</h3>
                    <p>æ¥µç°¡åŒ–é…ç½®é©…å‹•çš„ WCS æ±ºç­–å¼•æ“</p>
                    <p>åŸºæ–¼ ROS 2 Jazzy + YAML é…ç½®ç³»çµ±æ§‹å»º</p>
                </div>
                <div class="footer-section">
                    <h3>ğŸ”— ç³»çµ±æ•´åˆ</h3>
                    <ul>
                        <li>ROS 2 Jazzy + Zenoh RMW</li>
                        <li>SQLModel + PostgreSQL</li>
                        <li>KUKA Fleet API</li>
                        <li>Docker Compose V2</li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>ğŸ“Š æŠ€è¡“ç‰¹è‰²</h3>
                    <ul>
                        <li>é…ç½®é©…å‹•æ¥­å‹™é‚è¼¯</li>
                        <li>å¤šæª”æ¡ˆ YAML æ¶æ§‹</li>
                        <li>AI Agent yq å·¥å…·æ•´åˆ</li>
                        <li>ä¼æ¥­ç´šå¯é æ€§è¨­è¨ˆ</li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>ğŸ› ï¸ æŠ€è¡“æ”¯æ´</h3>
                    <ul>
                        <li><code>r agvc-check</code> - ç³»çµ±å¥åº·æª¢æŸ¥</li>
                        <li><code>r containers-status</code> - å®¹å™¨ç‹€æ…‹</li>
                        <li><code>r network-check</code> - ç¶²è·¯è¨ºæ–·</li>
                        <li><code>r quick-diag</code> - å¿«é€Ÿè¨ºæ–·</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 RosAGV Simple WCS System - Intelligent Manufacturing Execution System</p>
                <p>Powered by ROS 2 Jazzy + Zenoh RMW + Docker Compose V2</p>
            </div>
        </div>
    </footer>

    <script src="assets/js/rosagv-common.js"></script>
</body>
</html>