{% extends "base.html" %}
{% block title %}AGV Complete Status Monitor{% endblock %}

{% block content %}
<section class="section">
    <div class="container">
        <h1 class="title">AGV Complete Status Monitor</h1>
        <h2 class="subtitle">
            {% if is_test_mode %}
                <span class="has-text-warning">ğŸ“‹ æ¸¬è©¦æ¨¡å¼</span> - 
                AGV: <span class="has-text-primary has-text-weight-bold">{{ local_agv_id }}</span>
            {% elif local_agv_id %}
                æœ¬æ©Ÿ AGV: <span class="has-text-primary has-text-weight-bold">{{ local_agv_id }}</span>
            {% else %}
                é¡¯ç¤ºæ‰€æœ‰ AGV ç‹€æ…‹
            {% endif %}
            - 330+ PLC åŸå§‹è³‡æ–™å±¬æ€§
        </h2>
        
        <!-- éš±è—çš„ AGV ID è³‡è¨Šï¼Œä¾› JavaScript ä½¿ç”¨ -->
        <input type="hidden" id="local-agv-id" value="{{ local_agv_id or '' }}">
        <input type="hidden" id="container-type" value="{{ container_type or '' }}">
        <input type="hidden" id="is-test-mode" value="{{ is_test_mode|lower }}">
        
        <div class="field">
            <div class="control">
                <button class="button is-primary is-medium" id="refresh-button">
                    <span class="icon">
                        <i class="mdi mdi-refresh"></i>
                    </span>
                    <span>é‡æ–°æ•´ç†</span>
                </button>
            </div>
        </div>
        
        <!-- ç‹€æ…‹æ‘˜è¦ -->
        <div class="box" id="status-summary" style="display:none;">
            <nav class="level">
                <div class="level-item has-text-centered">
                    <div>
                        <p class="heading">AGV ID</p>
                        <p class="title" id="summary-agv-id">-</p>
                    </div>
                </div>
                <div class="level-item has-text-centered">
                    <div>
                        <p class="heading">ç¸½å±¬æ€§æ•¸</p>
                        <p class="title" id="summary-total-attrs">0</p>
                    </div>
                </div>
                <div class="level-item has-text-centered">
                    <div>
                        <p class="heading">ä½ç½® (X,Y)</p>
                        <p class="title" id="summary-position">-</p>
                    </div>
                </div>
                <div class="level-item has-text-centered">
                    <div>
                        <p class="heading">é›»æ± é›»é‡</p>
                        <p class="title" id="summary-power">-</p>
                    </div>
                </div>
                <div class="level-item has-text-centered">
                    <div>
                        <p class="heading">ç‹€æ…‹æ¨¡å¼</p>
                        <p class="title" id="summary-mode">-</p>
                    </div>
                </div>
            </nav>
        </div>
        
        <!-- è©³ç´°ç‹€æ…‹è³‡æ–™ - å¤šæ¬„ä½æ’ç‰ˆ -->
        <div class="box">
            <h3 class="title is-5">è©³ç´°ç‹€æ…‹è³‡æ–™ (330+ å±¬æ€§)</h3>
            <div id="status-categories" class="columns is-multiline">
                <!-- å‹•æ…‹ç”Ÿæˆçš„åˆ†é¡å€å¡Šæœƒæ”¾åœ¨é€™è£¡ -->
                <div class="column is-12 has-text-centered has-text-grey">
                    ç­‰å¾… AGV ç‹€æ…‹è³‡æ–™...
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}

{% endblock %}