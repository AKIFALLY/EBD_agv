/* Flows Page Styles - 基於 worksPage.css 的樣式 */
/* Phase 4.2.2: Canvas Rendering Support */

/* Flow Designer Canvas Layer */
.flow-canvas-layer {
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
    pointer-events: none !important;
    z-index: 1 !important;
    background: transparent !important;
}

/* Editor Container for Canvas Support */
.flow-editor {
    position: relative !important;
    overflow: hidden !important;
}

/* Canvas Performance Optimization */
.flow-canvas-layer {
    /* 啟用硬體加速 */
    transform: translateZ(0);
    -webkit-transform: translateZ(0);
    
    /* 優化繪製效能 */
    will-change: transform;
    
    /* 抗鋸齒設定 */
    image-rendering: -webkit-optimize-contrast;
    image-rendering: -moz-crisp-edges;
    image-rendering: -o-crisp-edges;
    image-rendering: optimize-contrast;
}

/* High DPI Display Support */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    .flow-canvas-layer {
        /* 高 DPI 螢幕最佳化 */
        image-rendering: -webkit-optimize-contrast;
    }
}

/* Canvas Render Mode Indicators */
.render-mode-indicator {
    position: absolute;
    top: 10px;
    right: 10px;
    background: rgba(0, 0, 0, 0.7);
    color: #fff;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 12px;
    font-family: monospace;
    z-index: 1000;
    pointer-events: none;
}

.render-mode-indicator.dom { background-color: #48cae4; }
.render-mode-indicator.canvas { background-color: #f77f00; }
.render-mode-indicator.webgl { background-color: #fcbf49; }

/* Performance Stats Overlay */
.performance-stats-overlay {
    position: absolute;
    bottom: 10px;
    right: 10px;
    background: rgba(0, 0, 0, 0.8);
    color: #fff;
    padding: 8px 12px;
    border-radius: 6px;
    font-size: 11px;
    font-family: monospace;
    z-index: 1000;
    pointer-events: none;
    min-width: 150px;
}

.performance-stats-overlay .stat-line {
    margin: 2px 0;
    display: flex;
    justify-content: space-between;
}

.performance-stats-overlay .stat-label {
    opacity: 0.8;
}

.performance-stats-overlay .stat-value {
    font-weight: bold;
}

.performance-stats-overlay .stat-value.good { color: #4ade80; }
.performance-stats-overlay .stat-value.warning { color: #fbbf24; }
.performance-stats-overlay .stat-value.danger { color: #f87171; }

/* 頁面標題區域 */
.title .icon {
    margin-right: 0.5rem;
}

/* 分頁切換按鈕組 */
.field.is-grouped.mb-4 .buttons.has-addons {
    margin-bottom: 0;
}

.field.is-grouped.mb-4 .buttons.has-addons .button {
    border-radius: 0;
}

.field.is-grouped.mb-4 .buttons.has-addons .button:first-child {
    border-top-left-radius: 4px;
    border-bottom-left-radius: 4px;
}

.field.is-grouped.mb-4 .buttons.has-addons .button:last-child {
    border-top-right-radius: 4px;
    border-bottom-right-radius: 4px;
}

.field.is-grouped.mb-4 .buttons.has-addons .button.is-primary {
    background-color: #3273dc;
    border-color: #3273dc;
    color: #fff;
}

.field.is-grouped.mb-4 .buttons.has-addons .button:not(.is-primary) {
    background-color: #fff;
    border-color: #dbdbdb;
    color: #363636;
}

.field.is-grouped.mb-4 .buttons.has-addons .button:hover:not(.is-primary) {
    background-color: #f5f5f5;
    border-color: #b5b5b5;
}

/* 視圖容器 */
#flowsView, #nodesView {
    min-height: 400px;
}

/* 載入中狀態 */
.has-text-centered.py-4 .icon.is-large {
    font-size: 2rem;
}

.has-text-centered.py-4 p {
    margin-top: 1rem;
    font-size: 1.1rem;
}

/* 空狀態樣式 */
.has-text-centered.py-6 .icon.is-large {
    font-size: 3rem;
    margin-bottom: 1rem;
}

.has-text-centered.py-6 p {
    font-size: 1.2rem;
}

/* 表格樣式增強 */
.table th {
    background-color: #f5f5f5;
    font-weight: 600;
    border-bottom: 2px solid #dbdbdb;
}

.table td {
    vertical-align: middle;
}

/* 狀態標籤 */
.tag.is-success {
    background-color: #48c774;
    color: #fff;
}

.tag.is-danger {
    background-color: #f14668;
    color: #fff;
}

.tag.is-info {
    background-color: #3298dc;
    color: #fff;
}

.tag.is-warning {
    background-color: #ffdd57;
    color: rgba(0, 0, 0, 0.7);
}

/* 節點圖標樣式 */
.node-icon {
    display: inline-block;
    width: 24px;
    height: 24px;
    line-height: 24px;
    text-align: center;
    border-radius: 50%;
    font-size: 14px;
    margin-right: 8px;
}

/* 參數列表樣式 */
.parameters-list {
    max-width: 200px;
}

.parameters-list .tag {
    margin: 2px;
}

/* 位置列表樣式 */
.locations-list {
    max-width: 150px;
}

.locations-list .tag {
    margin: 2px;
    font-size: 0.75rem;
}

/* 響應式設計 */
@media screen and (max-width: 768px) {
    .field.is-grouped.mb-4 {
        flex-direction: column;
    }
    
    .field.is-grouped.mb-4 .control {
        width: 100%;
    }
    
    .field.is-grouped.mb-4 .buttons.has-addons {
        width: 100%;
    }
    
    .field.is-grouped.mb-4 .buttons.has-addons .button {
        flex: 1;
    }
    
    .table {
        font-size: 0.85rem;
    }
    
    .table th,
    .table td {
        padding: 0.5rem 0.25rem;
    }
}

/* 表格行 hover 效果 */
.table.is-hoverable tbody tr:hover {
    background-color: #fafafa;
}

/* 錯誤狀態樣式 */
.error-row {
    background-color: #feecf0 !important;
}

.error-row td {
    color: #cc0f35;
}

/* 節點分類標題樣式 */
.subtitle.is-5 {
    margin-bottom: 1rem;
    padding-bottom: 0.5rem;
    border-bottom: 2px solid #e8e8e8;
}

.subtitle.is-5 .icon {
    margin-right: 0.5rem;
}

/* 輸入輸出標籤樣式 */
.io-tags .tag {
    margin: 1px;
    font-size: 0.7rem;
}

.io-tags .tag.is-input {
    background-color: #209cee;
    color: #fff;
}

.io-tags .tag.is-output {
    background-color: #23d160;
    color: #fff;
}

/* 載入動畫 */
@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.mdi-spin {
    animation: spin 2s linear infinite;
}

/* 表格內容截斷 */
.truncate {
    max-width: 200px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* 工具提示樣式 */
.has-tooltip-arrow:before {
    border-color: transparent transparent #363636 transparent;
}

.has-tooltip-arrow:after {
    background: #363636;
    color: #fff;
}