# è·¯å¾‘åç¨±è®Šæ›´èªªæ˜ï¼šRosAGV â†’ EBD_agv

æœ¬æ–‡æª”èªªæ˜ç•¶å°ˆæ¡ˆè³‡æ–™å¤¾åç¨±å¾ `RosAGV` è®Šæ›´ç‚º `EBD_agv` æ™‚ï¼Œéœ€è¦ä¿®æ”¹çš„æ‰€æœ‰æª”æ¡ˆä½ç½®ã€‚

---

## ğŸ“‹ è®Šæ›´æ‘˜è¦

| é¡åˆ¥ | éœ€ä¿®æ”¹æª”æ¡ˆæ•¸ | å„ªå…ˆç´š |
|------|-------------|--------|
| Docker Compose é…ç½® | 2 | ğŸ”´ **å¿…é ˆ** |
| Shell è…³æœ¬ | 15+ | ğŸŸ  é‡è¦ |
| Python è…³æœ¬ | 8 | ğŸŸ¡ ä¸€èˆ¬ |
| AI Agent è¦å‰‡ | 5 | ğŸŸ¡ ä¸€èˆ¬ |
| æ–‡æª”æª”æ¡ˆ | 50+ | ğŸŸ¢ å¯é¸ |

---

## ğŸ”´ å¿…é ˆä¿®æ”¹ï¼ˆç³»çµ±ç„¡æ³•é‹è¡Œï¼‰

### 1. Docker Compose é…ç½®æª”

#### `docker-compose.yml` (AGV å®¹å™¨)
```yaml
# ä¿®æ”¹å‰
volumes:
  - ~/RosAGV/app:/app

# ä¿®æ”¹å¾Œ
volumes:
  - ~/EBD_agv/app:/app
```

#### `docker-compose.agvc.yml` (AGVC å®¹å™¨)
éœ€ä¿®æ”¹ä»¥ä¸‹ volume æ˜ å°„ï¼ˆç´„ 10 è™•ï¼‰ï¼š

| è¡Œè™Ÿ | ä¿®æ”¹å‰ | ä¿®æ”¹å¾Œ |
|------|--------|--------|
| 9 | `~/RosAGV/nginx:/etc/nginx/conf.d:ro` | `~/EBD_agv/nginx:/etc/nginx/conf.d:ro` |
| 11 | `~/RosAGV/design/business-process-docs:...` | `~/EBD_agv/design/business-process-docs:...` |
| 13 | `~/RosAGV/docs-ai:...` | `~/EBD_agv/docs-ai:...` |
| 35 | `~/RosAGV/app:/app:rw` | `~/EBD_agv/app:/app:rw` |
| 40 | `~/RosAGV/agents:/app/agents:rw` | `~/EBD_agv/agents:/app/agents:rw` |
| 42-46 | å¤šå€‹ `~/RosAGV/...` | å°æ‡‰ä¿®æ”¹ç‚º `~/EBD_agv/...` |

**å¿«é€Ÿæ›¿æ›å‘½ä»¤ï¼š**
```bash
cd ~/EBD_agv
sed -i 's|~/RosAGV|~/EBD_agv|g' docker-compose.agvc.yml
sed -i 's|~/RosAGV|~/EBD_agv|g' docker-compose.yml
```

### 2. Claude é…ç½®æª”ï¼ˆéºæ¼é …ï¼‰

#### `.claude/settings.json`
```json
// ä¿®æ”¹å‰ï¼ˆç¬¬ 40 è¡Œï¼‰
"command": "~/RosAGV/.claude/hooks/current-time.sh"

// ä¿®æ”¹å¾Œ
"command": "~/EBD_agv/.claude/hooks/current-time.sh"
```

**å¿«é€Ÿæ›¿æ›å‘½ä»¤ï¼š**
```bash
sed -i 's|~/RosAGV|~/EBD_agv|g' .claude/settings.json
```

---

## â›” ä¸éœ€è¦ä¿®æ”¹ï¼ˆDocker æœå‹™åç¨±ï¼‰

ä»¥ä¸‹æ˜¯ Docker ç›¸é—œçš„å‘½åï¼Œèˆ‡å®¿ä¸»æ©Ÿè·¯å¾‘**å®Œå…¨ç¨ç«‹**ï¼Œä¸éœ€è¦è®Šæ›´ï¼š

### Docker æœå‹™åå’Œå®¹å™¨å

| é …ç›® | ä½ç½® | èªªæ˜ |
|------|------|------|
| `rosagv` | docker-compose.yml | AGV å®¹å™¨çš„æœå‹™åå’Œå®¹å™¨å |
| `agvc_server` | docker-compose.agvc.yml | AGVC å®¹å™¨çš„æœå‹™å |
| `postgres` | docker-compose.agvc.yml | PostgreSQL æœå‹™å |
| `pgadmin` | docker-compose.agvc.yml | pgAdmin æœå‹™å |
| `nginx` | docker-compose.agvc.yml | Nginx æœå‹™å |

### ç‚ºä»€éº¼ä¸éœ€è¦ä¿®æ”¹ï¼Ÿ

```bash
# é€™å€‹å‘½ä»¤çš„çµæ§‹ï¼š
cd ~/EBD_agv && docker compose -f docker-compose.yml exec rosagv bash
#    â†‘                                                      â†‘
#    å®¿ä¸»æ©Ÿè·¯å¾‘ï¼ˆæœƒè®Šå‹•ï¼‰                                    æœå‹™åï¼ˆä¸è®Šå‹•ï¼‰
```

- **å®¿ä¸»æ©Ÿè·¯å¾‘** (`~/EBD_agv`)ï¼šå°ˆæ¡ˆè³‡æ–™å¤¾ä½ç½®ï¼Œä¾å°ˆæ¡ˆåç¨±è®Šå‹•
- **æœå‹™å** (`rosagv`)ï¼šå®šç¾©åœ¨ docker-compose.yml ä¸­ï¼Œèˆ‡è³‡æ–™å¤¾åç¨±ç„¡é—œ

### ä¿æŒä¸è®Šçš„å‘½ä»¤æ ¼å¼

```bash
# é€™äº›å‘½ä»¤ä¸­çš„ rosagvã€agvc_server éƒ½ä¸éœ€è¦æ”¹
docker compose -f docker-compose.yml exec rosagv bash
docker compose -f docker-compose.agvc.yml exec agvc_server bash
docker compose -f docker-compose.agvc.yml logs agvc_server
```

---

## ğŸŸ  é‡è¦ä¿®æ”¹ï¼ˆå½±éŸ¿å·¥å…·é‹è¡Œï¼‰

### 2. Shell è…³æœ¬

| æª”æ¡ˆè·¯å¾‘ | èªªæ˜ |
|---------|------|
| `start_room_task_build.sh` | Room Task Build å•Ÿå‹•è…³æœ¬ |
| `rosagv-tools.sh` | çµ±ä¸€å·¥å…·è…³æœ¬ï¼ˆPATH è¨­å®šï¼‰ |
| `check_network.sh` | ç¶²è·¯æª¢æŸ¥è…³æœ¬ï¼ˆæ—¥èªŒè·¯å¾‘ï¼‰ |
| `count_web_lines_rg.sh` | ç¨‹å¼ç¢¼çµ±è¨ˆè…³æœ¬ |
| `scripts/validate-docker-config.sh` | Docker é…ç½®é©—è­‰ |
| `scripts/tafl-tools/tafl-validate.sh` | TAFL é©—è­‰å·¥å…· |
| `scripts/test-all-manage.sh` | ç®¡ç†å‡½æ•¸æ¸¬è©¦ |
| `scripts/config-tools/config-tools.sh` | é…ç½®å·¥å…· |
| `scripts/git-tools/fix_chinese_characters.sh` | ä¸­æ–‡å­—ç¬¦ä¿®å¾© |
| `app/db_proxy_ws/scripts/init_database.sh` | è³‡æ–™åº«åˆå§‹åŒ– |
| `app/db_proxy_ws/scripts/check_db_status.sh` | è³‡æ–™åº«ç‹€æ…‹æª¢æŸ¥ |
| `design/business-process-docs/cdn-assets-downloader.sh` | CDN è³‡æºä¸‹è¼‰ |

**æ‰¹é‡æ›¿æ›å‘½ä»¤ï¼š**
```bash
cd ~/EBD_agv

# æ›¿æ›æ‰€æœ‰ Shell è…³æœ¬ä¸­çš„è·¯å¾‘
find . -name "*.sh" -type f -exec sed -i 's|/home/ct/RosAGV|/home/ct/EBD_agv|g' {} \;
find . -name "*.sh" -type f -exec sed -i 's|~/RosAGV|~/EBD_agv|g' {} \;
```

### 3. Python è…³æœ¬

| æª”æ¡ˆè·¯å¾‘ | èªªæ˜ |
|---------|------|
| `design/business-process-docs/generate-claude-architecture-stats.py` | æ¶æ§‹çµ±è¨ˆç”Ÿæˆ |
| `design/business-process-docs/generate-docs-ai-index.py` | æ–‡æª”ç´¢å¼•ç”Ÿæˆ |
| `scripts/tafl-tools/validate-all-tafl.py` | TAFL å…¨éƒ¨é©—è­‰ |
| `scripts/tafl-tools/validate-tafl.py` | TAFL å–®æª”é©—è­‰ |
| `app/kuka_fleet_ws/src/kuka_fleet_adapter/test/test_kuka_api_convenience.py` | KUKA API æ¸¬è©¦ |
| `app/agv_ui/app.py` | AGV UI æ‡‰ç”¨ï¼ˆç‹€æ…‹æ–‡ä»¶è·¯å¾‘ï¼‰ |
| `app/web_api_ws/src/agvcui/agvcui/agvc_ui_server.py` | AGVC UI ä¼ºæœå™¨ |
| `app/web_api_ws/src/agvcui/agvcui/routers/tafl_editor.py` | TAFL ç·¨è¼¯å™¨è·¯ç”± |

**æ‰¹é‡æ›¿æ›å‘½ä»¤ï¼š**
```bash
cd ~/EBD_agv

# æ›¿æ›æ‰€æœ‰ Python è…³æœ¬ä¸­çš„è·¯å¾‘
find . -name "*.py" -type f -exec sed -i 's|/home/ct/RosAGV|/home/ct/EBD_agv|g' {} \;
```

---

## ğŸŸ¡ ä¸€èˆ¬ä¿®æ”¹ï¼ˆå½±éŸ¿ AI é–‹ç™¼åŠ©æ‰‹ï¼‰

### 4. AI Agent è¦å‰‡æª”æ¡ˆ

| æª”æ¡ˆè·¯å¾‘ | èªªæ˜ |
|---------|------|
| `CLAUDE.md` | ä¸»è¦ AI é–‹ç™¼æŒ‡å° |
| `ai-agents/container-development-rules.md` | å®¹å™¨é–‹ç™¼è¦å‰‡ |
| `ai-agents/database-operations-rules.md` | è³‡æ–™åº«æ“ä½œè¦å‰‡ |
| `ai-agents/ros2-development-rules.md` | ROS2 é–‹ç™¼è¦å‰‡ |
| `ai-agents/unified-tools-usage.md` | çµ±ä¸€å·¥å…·ä½¿ç”¨æŒ‡å— |

**æ‰¹é‡æ›¿æ›å‘½ä»¤ï¼š**
```bash
cd ~/EBD_agv

# æ›¿æ› AI Agent è¦å‰‡ä¸­çš„è·¯å¾‘
sed -i 's|~/RosAGV|~/EBD_agv|g' CLAUDE.md
sed -i 's|/home/ct/RosAGV|/home/ct/EBD_agv|g' CLAUDE.md
find ai-agents/ -name "*.md" -exec sed -i 's|~/RosAGV|~/EBD_agv|g' {} \;
find ai-agents/ -name "*.md" -exec sed -i 's|/home/ct/RosAGV|/home/ct/EBD_agv|g' {} \;
```

---

## ğŸŸ¢ å¯é¸ä¿®æ”¹ï¼ˆæ–‡æª”ä¸€è‡´æ€§ï¼‰

### 5. æ–‡æª”æª”æ¡ˆ

ä»¥ä¸‹ç›®éŒ„ä¸­çš„ Markdown æ–‡æª”åŒ…å« RosAGV è·¯å¾‘å¼•ç”¨ï¼š

- `docs-ai/` (ç´„ 40+ æª”æ¡ˆ)
- `design/business-process-docs/` (ç´„ 15+ æª”æ¡ˆ)
- `docs/` (ç´„ 5 æª”æ¡ˆ)

**æ‰¹é‡æ›¿æ›å‘½ä»¤ï¼š**
```bash
cd ~/EBD_agv

# æ›¿æ›æ‰€æœ‰ Markdown æ–‡æª”ä¸­çš„è·¯å¾‘
find docs-ai/ -name "*.md" -exec sed -i 's|/home/ct/RosAGV|/home/ct/EBD_agv|g' {} \;
find docs-ai/ -name "*.md" -exec sed -i 's|~/RosAGV|~/EBD_agv|g' {} \;
find design/ -name "*.md" -exec sed -i 's|/home/ct/RosAGV|/home/ct/EBD_agv|g' {} \;
find design/ -name "*.md" -exec sed -i 's|~/RosAGV|~/EBD_agv|g' {} \;
find docs/ -name "*.md" -exec sed -i 's|/home/ct/RosAGV|/home/ct/EBD_agv|g' {} \;
find docs/ -name "*.md" -exec sed -i 's|~/RosAGV|~/EBD_agv|g' {} \;
```

---

## ğŸš€ ä¸€éµå…¨éƒ¨æ›¿æ›è…³æœ¬

å°‡ä»¥ä¸‹è…³æœ¬ä¿å­˜ç‚º `change_path_name.sh` ä¸¦åŸ·è¡Œï¼š

```bash
#!/bin/bash
# è·¯å¾‘åç¨±è®Šæ›´è…³æœ¬ï¼ˆåƒæ•¸åŒ–ç‰ˆæœ¬ï¼‰
# ç”¨æ³•: ./change_path_name.sh <èˆŠå°ˆæ¡ˆå> <æ–°å°ˆæ¡ˆå>
# ç¯„ä¾‹: ./change_path_name.sh RosAGV EBD_agv
#       ./change_path_name.sh EBD_agv NewProject

set -e

# åƒæ•¸æª¢æŸ¥
if [ $# -ne 2 ]; then
    echo "ç”¨æ³•: $0 <èˆŠå°ˆæ¡ˆå> <æ–°å°ˆæ¡ˆå>"
    echo "ç¯„ä¾‹: $0 RosAGV EBD_agv"
    exit 1
fi

OLD_NAME="$1"
NEW_NAME="$2"

OLD_PATH_FULL="/home/ct/$OLD_NAME"
NEW_PATH_FULL="/home/ct/$NEW_NAME"
OLD_PATH_SHORT="~/$OLD_NAME"
NEW_PATH_SHORT="~/$NEW_NAME"

# ç¢ºèªç•¶å‰ç›®éŒ„
CURRENT_DIR=$(pwd)
if [[ "$CURRENT_DIR" != *"$NEW_NAME"* ]]; then
    echo "âš ï¸  è«‹å…ˆ cd åˆ°æ–°å°ˆæ¡ˆç›®éŒ„å†åŸ·è¡Œæ­¤è…³æœ¬"
    echo "   cd ~/$NEW_NAME && ./change_path_name.sh $OLD_NAME $NEW_NAME"
    exit 1
fi

echo "=== è·¯å¾‘åç¨±è®Šæ›´ï¼š$OLD_NAME â†’ $NEW_NAME ==="
echo ""
echo "ğŸ” æ›¿æ›è¦å‰‡ï¼š"
echo "   $OLD_PATH_FULL â†’ $NEW_PATH_FULL"
echo "   $OLD_PATH_SHORT â†’ $NEW_PATH_SHORT"
echo ""

# 1. Docker Compose é…ç½®
echo "ğŸ”´ [1/6] ä¿®æ”¹ Docker Compose é…ç½®..."
sed -i "s|$OLD_PATH_SHORT|$NEW_PATH_SHORT|g" docker-compose.yml 2>/dev/null || true
sed -i "s|$OLD_PATH_SHORT|$NEW_PATH_SHORT|g" docker-compose.agvc.yml 2>/dev/null || true
echo "   âœ… Docker Compose é…ç½®å·²æ›´æ–°"

# 2. Claude é…ç½®ï¼ˆJSON æª”æ¡ˆï¼‰
echo "ğŸ”´ [2/6] ä¿®æ”¹ Claude é…ç½®..."
find .claude/ -name "*.json" -exec sed -i "s|$OLD_PATH_SHORT|$NEW_PATH_SHORT|g" {} \; 2>/dev/null || true
find .claude/ -name "*.json" -exec sed -i "s|$OLD_PATH_FULL|$NEW_PATH_FULL|g" {} \; 2>/dev/null || true
echo "   âœ… Claude é…ç½®å·²æ›´æ–°"

# 3. Shell è…³æœ¬
echo "ğŸŸ  [3/6] ä¿®æ”¹ Shell è…³æœ¬..."
find . -name "*.sh" -type f -exec sed -i "s|$OLD_PATH_FULL|$NEW_PATH_FULL|g" {} \; 2>/dev/null
find . -name "*.sh" -type f -exec sed -i "s|$OLD_PATH_SHORT|$NEW_PATH_SHORT|g" {} \; 2>/dev/null
echo "   âœ… Shell è…³æœ¬å·²æ›´æ–°"

# 4. Python è…³æœ¬
echo "ğŸŸ¡ [4/6] ä¿®æ”¹ Python è…³æœ¬..."
find . -name "*.py" -type f -exec sed -i "s|$OLD_PATH_FULL|$NEW_PATH_FULL|g" {} \; 2>/dev/null
echo "   âœ… Python è…³æœ¬å·²æ›´æ–°"

# 5. AI Agent è¦å‰‡
echo "ğŸŸ¡ [5/6] ä¿®æ”¹ AI Agent è¦å‰‡..."
sed -i "s|$OLD_PATH_FULL|$NEW_PATH_FULL|g" CLAUDE.md 2>/dev/null || true
sed -i "s|$OLD_PATH_SHORT|$NEW_PATH_SHORT|g" CLAUDE.md 2>/dev/null || true
find ai-agents/ -name "*.md" -exec sed -i "s|$OLD_PATH_FULL|$NEW_PATH_FULL|g" {} \; 2>/dev/null
find ai-agents/ -name "*.md" -exec sed -i "s|$OLD_PATH_SHORT|$NEW_PATH_SHORT|g" {} \; 2>/dev/null
echo "   âœ… AI Agent è¦å‰‡å·²æ›´æ–°"

# 6. æ–‡æª”æª”æ¡ˆ
echo "ğŸŸ¢ [6/6] ä¿®æ”¹æ–‡æª”æª”æ¡ˆ..."
find docs-ai/ -name "*.md" -exec sed -i "s|$OLD_PATH_FULL|$NEW_PATH_FULL|g" {} \; 2>/dev/null
find docs-ai/ -name "*.md" -exec sed -i "s|$OLD_PATH_SHORT|$NEW_PATH_SHORT|g" {} \; 2>/dev/null
find design/ -name "*.md" -exec sed -i "s|$OLD_PATH_FULL|$NEW_PATH_FULL|g" {} \; 2>/dev/null
find design/ -name "*.md" -exec sed -i "s|$OLD_PATH_SHORT|$NEW_PATH_SHORT|g" {} \; 2>/dev/null
find docs/ -name "*.md" -exec sed -i "s|$OLD_PATH_FULL|$NEW_PATH_FULL|g" {} \; 2>/dev/null
find docs/ -name "*.md" -exec sed -i "s|$OLD_PATH_SHORT|$NEW_PATH_SHORT|g" {} \; 2>/dev/null
echo "   âœ… æ–‡æª”æª”æ¡ˆå·²æ›´æ–°"

echo ""
echo "=== è®Šæ›´å®Œæˆ ==="
echo ""
echo "ğŸ“‹ å¾ŒçºŒæ­¥é©Ÿï¼š"
echo "   1. é‡æ–°å•Ÿå‹• Docker å®¹å™¨ï¼š"
echo "      docker compose -f docker-compose.yml down"
echo "      docker compose -f docker-compose.agvc.yml down"
echo "      docker compose -f docker-compose.agvc.yml up -d"
echo "      docker compose -f docker-compose.yml up -d"
echo ""
echo "   2. æ›´æ–° ~/.bashrc ä¸­çš„ PATHï¼ˆå¦‚æœ‰è¨­å®šï¼‰ï¼š"
echo "      å°‡ $OLD_PATH_FULL æ”¹ç‚º $NEW_PATH_FULL"
echo ""
echo "   3. é©—è­‰ç³»çµ±é‹è¡Œï¼š"
echo "      docker compose -f docker-compose.yml ps"
echo "      docker compose -f docker-compose.agvc.yml ps"
echo ""
echo "âš ï¸  æ³¨æ„ï¼šDocker æœå‹™å (rosagv, agvc_server) ä¸æœƒè¢«ä¿®æ”¹ï¼Œé€™æ˜¯æ­£ç¢ºçš„ï¼"
```

---

## âš ï¸ æ³¨æ„äº‹é …

1. **åŸ·è¡Œå‰å‚™ä»½**ï¼šå»ºè­°åœ¨åŸ·è¡Œæ‰¹é‡æ›¿æ›å‰å‚™ä»½æ•´å€‹å°ˆæ¡ˆç›®éŒ„
   ```bash
   cp -r ~/EBD_agv ~/EBD_agv_backup
   ```

2. **å®¹å™¨éœ€é‡å»º**ï¼šä¿®æ”¹ Docker Compose å¾Œéœ€è¦é‡æ–°å•Ÿå‹•å®¹å™¨

3. **PATH ç’°å¢ƒè®Šæ•¸**ï¼šå¦‚æœ `~/.bashrc` ä¸­æœ‰è¨­å®š RosAGV è·¯å¾‘ï¼Œä¹Ÿéœ€è¦ä¸€ä½µä¿®æ”¹

4. **Git è¿½è¹¤**ï¼šå¤§é‡æª”æ¡ˆä¿®æ”¹å¾Œå»ºè­°æäº¤ä¸€å€‹å°ˆé–€çš„ commit
   ```bash
   git add -A
   git commit -m "refactor: å°‡è·¯å¾‘åç¨±å¾ RosAGV è®Šæ›´ç‚º EBD_agv"
   ```

---

## ğŸ“Š é©—è­‰æ¸…å–®

å®Œæˆè®Šæ›´å¾Œï¼Œè«‹é€é …ç¢ºèªï¼š

### âœ… è·¯å¾‘æ›¿æ›é©—è­‰

```bash
# 1. ç¢ºèªè·¯å¾‘å·²æ­£ç¢ºæ›¿æ›ï¼ˆæ‡‰ç„¡è¼¸å‡ºï¼‰
grep -rn "RosAGV" ~/EBD_agv --include="*.yml" --include="*.sh" --include="*.py" --include="*.json" 2>/dev/null | head -20

# 2. å¦‚æœ‰æ®˜ç•™ï¼Œé¡¯ç¤ºéœ€è¦è™•ç†çš„æª”æ¡ˆ
grep -rl "RosAGV" ~/EBD_agv --include="*.yml" --include="*.sh" --include="*.py" --include="*.json" 2>/dev/null
```

### âœ… Docker æœå‹™åæœªè¢«ä¿®æ”¹é©—è­‰ï¼ˆé‡è¦ï¼ï¼‰

```bash
# 3. ç¢ºèª AGV å®¹å™¨æœå‹™åä»ç‚º rosagv
grep -E "^\s+rosagv:" docker-compose.yml
# é æœŸè¼¸å‡º: "  rosagv:"

# 4. ç¢ºèª AGVC å®¹å™¨æœå‹™åä»ç‚º agvc_server
grep -E "^\s+agvc_server:" docker-compose.agvc.yml
# é æœŸè¼¸å‡º: "  agvc_server:"

# 5. ç¢ºèª container_name ä»æ­£ç¢º
grep "container_name:" docker-compose.yml docker-compose.agvc.yml
# é æœŸè¼¸å‡ºæ‡‰åŒ…å«: rosagv, agvc_server, postgres, pgadmin, nginx
```

### âœ… å®¹å™¨å•Ÿå‹•é©—è­‰

- [ ] `docker compose -f docker-compose.agvc.yml up -d` æˆåŠŸ
- [ ] `docker compose -f docker-compose.yml up -d` æˆåŠŸ
- [ ] `docker compose -f docker-compose.agvc.yml ps` é¡¯ç¤ºæ‰€æœ‰æœå‹™ running

```bash
# 6. é©—è­‰å®¹å™¨ç‹€æ…‹
docker compose -f docker-compose.agvc.yml ps
docker compose -f docker-compose.yml ps
```

### âœ… å®¹å™¨å­˜å–é©—è­‰

- [ ] `docker compose -f docker-compose.yml exec rosagv bash` å¯é€²å…¥ AGV å®¹å™¨
- [ ] `docker compose -f docker-compose.agvc.yml exec agvc_server bash` å¯é€²å…¥ AGVC å®¹å™¨

```bash
# 7. æ¸¬è©¦ exec å‘½ä»¤ï¼ˆæœå‹™åæ‡‰è©²æ²’è®Šï¼‰
docker compose -f docker-compose.yml exec rosagv echo "AGV container OK"
docker compose -f docker-compose.agvc.yml exec agvc_server echo "AGVC container OK"
```

### âœ… Volume æ›è¼‰é©—è­‰

- [ ] å®¹å™¨å…§ `/app` ç›®éŒ„æœ‰æ­£ç¢ºæ›è¼‰
- [ ] å®¹å™¨å…§æª”æ¡ˆèˆ‡å®¿ä¸»æ©ŸåŒæ­¥

```bash
# 8. é©—è­‰ volume æ›è¼‰
docker compose -f docker-compose.agvc.yml exec agvc_server ls -la /app
docker compose -f docker-compose.yml exec rosagv ls -la /app

# 9. æ¸¬è©¦æª”æ¡ˆåŒæ­¥ï¼ˆåœ¨å®¿ä¸»æ©Ÿå‰µå»ºæª”æ¡ˆï¼Œå®¹å™¨å…§æ‡‰å¯è¦‹ï¼‰
touch ~/EBD_agv/app/.mount_test
docker compose -f docker-compose.agvc.yml exec agvc_server ls -la /app/.mount_test
rm ~/EBD_agv/app/.mount_test
```

### âœ… æœå‹™å¥åº·é©—è­‰

- [ ] Web API æœå‹™å¯å­˜å–
- [ ] çµ±ä¸€å·¥å…·å‘½ä»¤å¯ç”¨ï¼ˆå¦‚æœ‰è¨­å®š PATHï¼‰

```bash
# 10. é©—è­‰ Web æœå‹™ï¼ˆå®¹å™¨å…§ï¼‰
docker compose -f docker-compose.agvc.yml exec agvc_server bash -c "curl -s http://localhost:8000/health || echo 'API not running'"

# 11. é©—è­‰çµ±ä¸€å·¥å…·ï¼ˆå®¿ä¸»æ©Ÿï¼Œå¦‚æœ‰è¨­å®šï¼‰
r quick-diag 2>/dev/null || echo "r å‘½ä»¤æœªè¨­å®šæˆ–ä¸å¯ç”¨"
```

### ğŸ“‹ å¿«é€Ÿé©—è­‰å‘½ä»¤ï¼ˆä¸€éµåŸ·è¡Œï¼‰

```bash
#!/bin/bash
# å„²å­˜ç‚º verify_path_change.sh

echo "=== è·¯å¾‘è®Šæ›´é©—è­‰ ==="

echo -e "\n1ï¸âƒ£ æª¢æŸ¥æ®˜ç•™çš„èˆŠè·¯å¾‘..."
REMAINING=$(grep -rl "RosAGV" . --include="*.yml" --include="*.sh" --include="*.json" 2>/dev/null | wc -l)
if [ "$REMAINING" -eq 0 ]; then
    echo "   âœ… ç„¡æ®˜ç•™èˆŠè·¯å¾‘"
else
    echo "   âš ï¸  ç™¼ç¾ $REMAINING å€‹æª”æ¡ˆä»å«èˆŠè·¯å¾‘"
fi

echo -e "\n2ï¸âƒ£ ç¢ºèª Docker æœå‹™åæœªè¢«ä¿®æ”¹..."
if grep -q "rosagv:" docker-compose.yml && grep -q "agvc_server:" docker-compose.agvc.yml; then
    echo "   âœ… Docker æœå‹™åæ­£ç¢º (rosagv, agvc_server)"
else
    echo "   âŒ Docker æœå‹™åå¯èƒ½è¢«èª¤æ”¹ï¼"
fi

echo -e "\n3ï¸âƒ£ æ¸¬è©¦å®¹å™¨ exec å‘½ä»¤..."
if docker compose -f docker-compose.yml exec rosagv echo "OK" >/dev/null 2>&1; then
    echo "   âœ… AGV å®¹å™¨ exec æ­£å¸¸"
else
    echo "   âŒ AGV å®¹å™¨ exec å¤±æ•—"
fi

if docker compose -f docker-compose.agvc.yml exec agvc_server echo "OK" >/dev/null 2>&1; then
    echo "   âœ… AGVC å®¹å™¨ exec æ­£å¸¸"
else
    echo "   âŒ AGVC å®¹å™¨ exec å¤±æ•—"
fi

echo -e "\n4ï¸âƒ£ é©—è­‰ volume æ›è¼‰..."
if docker compose -f docker-compose.agvc.yml exec agvc_server test -d /app 2>/dev/null; then
    echo "   âœ… /app ç›®éŒ„æ›è¼‰æ­£å¸¸"
else
    echo "   âŒ /app ç›®éŒ„æ›è¼‰å¤±æ•—"
fi

echo -e "\n=== é©—è­‰å®Œæˆ ==="
```

---

*æ–‡æª”å»ºç«‹æ—¥æœŸï¼š2024-12-15*
*æœ€å¾Œæ›´æ–°ï¼š2024-12-15*
*é©ç”¨ç‰ˆæœ¬ï¼šEBD_agv åŠæœªä¾†å°ˆæ¡ˆ*
