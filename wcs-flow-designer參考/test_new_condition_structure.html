<!DOCTYPE html>
<html>
<head>
    <title>新條件節點結構測試</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-info { background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 5px; }
        .success { background: #d4edda; border-left: 4px solid #28a745; }
        .error { background: #f8d7da; border-left: 4px solid #dc3545; }
        .warning { background: #fff3cd; border-left: 4px solid #ffc107; }
        button { padding: 10px 20px; margin: 5px; background: #007bff; color: white; border: none; border-radius: 3px; cursor: pointer; }
        button:hover { background: #0056b3; }
        .test-steps { background: #e7f3ff; padding: 15px; border-left: 4px solid #007bff; }
        .condition-type { background: #f8f9fa; padding: 10px; margin: 5px 0; border-left: 3px solid #00BCD4; }
        .param-list { list-style-type: none; padding-left: 20px; }
        .param-list li { margin: 3px 0; }
        .param-list li:before { content: "🔹 "; }
        .model-info { background: #e8f5e8; padding: 10px; margin: 10px 0; border-left: 3px solid #28a745; }
    </style>
</head>
<body>
    <h1>WCS Flow Designer - 新條件節點結構測試</h1>
    
    <div class="test-info success">
        <h3>✅ 重新設計完成：</h3>
        <ul>
            <li><strong>5種新條件節點類型</strong> - 符合實際WCS需求</li>
            <li><strong>房間編號支援</strong> - 01~05 + 全部房間(1~5)迴圈</li>
            <li><strong>標準化參數結構</strong> - 每種條件有專屬的參數組合</li>
            <li><strong>機器人型號修正</strong> - 只保留4種指定型號</li>
        </ul>
    </div>
    
    <div class="test-info">
        <h3>📋 新的5種條件節點類型：</h3>
        
        <div class="condition-type">
            <strong>🏠 房間內是否有任何Carrier</strong>
            <ul class="param-list">
                <li>房間編號 (01~05 或 全部房間)</li>
                <li>檢查條件 (是否存在 true/false)</li>
            </ul>
        </div>
        
        <div class="condition-type">
            <strong>🚪 房間入口是否有Rack</strong>
            <ul class="param-list">
                <li>房間編號 (01~05 或 全部房間)</li>
                <li>檢查條件 (是否存在 true/false)</li>
            </ul>
        </div>
        
        <div class="condition-type">
            <strong>🚪 房間出口是否有Rack</strong>
            <ul class="param-list">
                <li>房間編號 (01~05 或 全部房間)</li>
                <li>檢查條件 (是否存在 true/false)</li>
            </ul>
        </div>
        
        <div class="condition-type">
            <strong>🚫 無衝突任務</strong>
            <ul class="param-list">
                <li>節點ID (node_id判斷)</li>
            </ul>
        </div>
        
        <div class="condition-type">
            <strong>📦 Rack面上是否有Carrier</strong>
            <ul class="param-list">
                <li>房間編號 (01~05 或 全部房間)</li>
                <li>位置類型 (入口/出口)</li>
                <li>貨架面 (A面/B面)</li>
                <li>檢查條件 (是否存在 true/false)</li>
            </ul>
        </div>
    </div>
    
    <div class="model-info">
        <h3>🤖 機器人型號 (已修正)：</h3>
        <ul>
            <li>✅ KUKA400i</li>
            <li>✅ cargo</li>
            <li>✅ loader</li>
            <li>✅ unloader</li>
        </ul>
        <p><strong>移除了：</strong> KUKA600i, ABB_IRB 等其他型號</p>
    </div>
    
    <div class="test-steps">
        <h3>🧪 詳細測試步驟：</h3>
        <ol>
            <li><strong>開啟應用程式</strong>
                <br>點擊下方按鈕開啟 WCS Flow Designer
            </li>
            <li><strong>測試條件節點類型</strong>
                <br>• 檢查左側條件節點區域是否顯示5種新的條件節點
                <br>• 每個節點名稱應該符合新的命名規則
            </li>
            <li><strong>測試個別條件節點參數</strong>
                <br>• 拖拽「房間內是否有Carrier」節點，點擊查看屬性
                <br>• 應該只顯示：房間編號、檢查條件
                <br>• 重複測試其他4種條件節點
            </li>
            <li><strong>測試房間編號選項</strong>
                <br>• 確認房間編號下拉選單有：01, 02, 03, 04, 05, 全部房間(1~5)
                <br>• 測試選擇不同房間編號
            </li>
            <li><strong>測試檢查條件</strong>
                <br>• 確認檢查條件下拉選單有：檢查是否存在(true), 檢查是否不存在(false)
                <br>• 測試選擇不同檢查條件
            </li>
            <li><strong>測試Rack面參數</strong>
                <br>• 選擇「Rack面上是否有Carrier」節點
                <br>• 應該顯示：房間編號、位置類型(入口/出口)、貨架面(A/B)、檢查條件
            </li>
            <li><strong>測試機器人型號</strong>
                <br>• 創建動作節點，檢查機器人型號選項
                <br>• 應該只有4個選項：KUKA400i, cargo, loader, unloader
            </li>
        </ol>
    </div>
    
    <div class="test-info warning">
        <h3>⚠️ 關鍵測試點：</h3>
        <ul>
            <li><strong>參數精確性</strong>：每種條件只顯示相關參數，不顯示無關參數</li>
            <li><strong>房間編號</strong>：確保房間01~05和全部房間選項都正常</li>
            <li><strong>檢查條件</strong>：true/false選項要能正確保存和顯示</li>
            <li><strong>組合參數</strong>：「Rack面上是否有Carrier」要顯示4個參數</li>
            <li><strong>機器人型號</strong>：確認只有指定的4個選項</li>
        </ul>
    </div>
    
    <button onclick="window.open('index.html', '_blank')">🚀 開啟 WCS Flow Designer</button>
    
    <div class="test-info">
        <h3>📝 測試清單：</h3>
        <ul>
            <li>[ ] 左側節點palette顯示5種新條件節點</li>
            <li>[ ] 「房間內是否有Carrier」- 房間編號 + 檢查條件</li>
            <li>[ ] 「房間入口是否有Rack」- 房間編號 + 檢查條件</li>
            <li>[ ] 「房間出口是否有Rack」- 房間編號 + 檢查條件</li>
            <li>[ ] 「無衝突任務」- 節點ID</li>
            <li>[ ] 「Rack面上是否有Carrier」- 房間編號 + 位置 + 貨架面 + 檢查條件</li>
            <li>[ ] 房間編號選項：01~05 + 全部房間(1~5)</li>
            <li>[ ] 檢查條件選項：true/false</li>
            <li>[ ] 機器人型號：KUKA400i, cargo, loader, unloader</li>
            <li>[ ] 參數保存和顯示正確</li>
        </ul>
    </div>
    
    <div class="test-info">
        <h3>💡 設計理念：</h3>
        <p><strong>執行邏輯：</strong></p>
        <ul>
            <li>選擇特定房間(01~05)：只對該房間執行檢查</li>
            <li>選擇「全部房間(1~5)」：程式會自動for迴圈1~5，對每個房間都檢查一次</li>
            <li>非房間相關的條件(如「無衝突任務」)：只執行一次，不涉及房間迴圈</li>
        </ul>
    </div>
</body>
</html>