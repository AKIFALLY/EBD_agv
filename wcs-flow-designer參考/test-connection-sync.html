<!DOCTYPE html>
<html>
<head>
    <title>é€£ç·šåŒæ­¥æ¸¬è©¦</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 30px; border-radius: 10px; }
        .section { background: #f8f9fa; padding: 20px; margin: 15px 0; border-radius: 8px; border-left: 4px solid #007bff; }
        .error-section { border-left: 4px solid #dc3545; background: #f8d7da; }
        .success-section { border-left: 4px solid #28a745; background: #d4edda; }
        .step { background: white; padding: 15px; margin: 10px 0; border-radius: 5px; border: 1px solid #dee2e6; }
        .step-number { background: #007bff; color: white; width: 30px; height: 30px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; margin-right: 15px; font-weight: bold; }
        .key-combo { background: #343a40; color: white; padding: 3px 8px; border-radius: 4px; font-family: monospace; font-weight: bold; }
        .highlight { background: #fff3cd; padding: 2px 6px; border-radius: 3px; }
        button { background: #007bff; color: white; padding: 12px 24px; border: none; border-radius: 5px; cursor: pointer; font-size: 16px; margin: 10px 5px; }
        button:hover { background: #0056b3; }
        .warning { background: #fff3cd; padding: 15px; border-left: 4px solid #ffc107; margin: 15px 0; border-radius: 5px; }
        h1 { color: #343a40; text-align: center; }
        h2 { color: #495057; border-bottom: 2px solid #dee2e6; padding-bottom: 10px; }
        .debug-info { background: #e3f2fd; padding: 15px; border-left: 4px solid #2196f3; margin: 15px 0; border-radius: 5px; font-family: monospace; font-size: 14px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”§ é€£ç·šåŒæ­¥å•é¡Œæ¸¬è©¦</h1>
        
        <div class="error-section">
            <h2>ğŸ› åŸå§‹å•é¡Œ</h2>
            <ul>
                <li><strong>é€£ç·šå·²å¾ç·¨è¼¯å™¨ç§»é™¤</strong> - ä½†è¦–è¦ºå…ƒç´ ä»ç„¶å­˜åœ¨</li>
                <li><strong>ç”¨æˆ¶ä»èƒ½é»æ“Šåˆ°</strong> - å°è‡´å†æ¬¡åˆªé™¤æ™‚å‡ºç¾éŒ¯èª¤</li>
                <li><strong>éŒ¯èª¤ä¿¡æ¯ï¼š</strong> "Connection not found in editor"</li>
            </ul>
        </div>

        <div class="success-section">
            <h2>âœ… æœ€æ–°ä¿®å¾©ï¼ˆä¸€æ¬¡æ€§å®Œæ•´åˆªé™¤ï¼‰</h2>
            <ul>
                <li><strong>ç›´æ¥æ¸…ç†ç­–ç•¥ï¼š</strong> ç¸½æ˜¯å…ˆæ¸…ç†è¦–è¦ºå…ƒç´ ï¼Œç¢ºä¿ç¬¬ä¸€æ¬¡æ“ä½œå°±å®Œæˆ</li>
                <li><strong>é¿å…ä¾è³´äº‹ä»¶ï¼š</strong> ä¸ä¾è³´ connectionremoved äº‹ä»¶ä¾†æ¸…ç†è¦–è¦ºå…ƒç´ </li>
                <li><strong>å¥å£¯çš„äº‹ä»¶è™•ç†ï¼š</strong> handleConnectionRemoved èƒ½è™•ç†å·²æ¸…ç†å…ƒç´ çš„æƒ…æ³</li>
                <li><strong>ä¸€æ¬¡æ€§å®Œæˆï¼š</strong> è§£æ±ºéœ€è¦é»æ“Šå…©æ¬¡æ‰èƒ½åˆªé™¤çš„å•é¡Œ</li>
            </ul>
        </div>

        <div class="section">
            <h2>ğŸ§ª æ¸¬è©¦æ­¥é©Ÿ</h2>
            
            <div class="step">
                <span class="step-number">1</span>
                <strong>å»ºç«‹æ¸¬è©¦ç’°å¢ƒ</strong>
                <p>â€¢ é–‹å•Ÿ WCS Flow Designer</p>
                <p>â€¢ æ‹–æ‹½ 2-3 å€‹ç¯€é»åˆ°ç•«å¸ƒ</p>
                <p>â€¢ å»ºç«‹å¹¾æ¢é€£ç·š</p>
            </div>
            
            <div class="step">
                <span class="step-number">2</span>
                <strong>æ¸¬è©¦æ­£å¸¸åˆªé™¤</strong>
                <p>â€¢ é»æ“Šé¸ä¸­ä¸€æ¢é€£ç·šï¼ˆè®Šè—è‰²åŠ ç²—ï¼‰</p>
                <p>â€¢ æŒ‰ <span class="key-combo">Delete</span> éµ</p>
                <p>â€¢ ç¢ºèªé€£ç·šå®Œå…¨æ¶ˆå¤±</p>
                <p>â€¢ æª¢æŸ¥ F12 æ§åˆ¶å°çš„èª¿è©¦ä¿¡æ¯</p>
            </div>
            
            <div class="step">
                <span class="step-number">3</span>
                <strong>é©—è­‰ä¸€æ¬¡æ€§åˆªé™¤ï¼ˆé—œéµæ¸¬è©¦ï¼‰</strong>
                <p>â€¢ ç¢ºèªç¬¬ä¸€æ¬¡æŒ‰ Delete å¾Œé€£ç·šç«‹å³å®Œå…¨æ¶ˆå¤±</p>
                <p>â€¢ ä¸æ‡‰è©²éœ€è¦ç¬¬äºŒæ¬¡é»æ“Šå’Œåˆªé™¤æ“ä½œ</p>
                <p>â€¢ æª¢æŸ¥æ§åˆ¶å°é¡¯ç¤º "Connection deletion completed" ä¿¡æ¯</p>
                <p>â€¢ åˆªé™¤å¾Œçš„ä½ç½®ä¸æ‡‰è©²å†èƒ½é»æ“Šåˆ°ä»»ä½•æ±è¥¿</p>
            </div>
            
            <div class="step">
                <span class="step-number">4</span>
                <strong>æ¸¬è©¦å­¤ç«‹å…ƒç´ æ¸…ç†</strong>
                <p>â€¢ é»æ“Šç•«é¢ç©ºç™½è™•ï¼ˆè§¸ç™¼ deselectAllConnectionsï¼‰</p>
                <p>â€¢ æª¢æŸ¥æ§åˆ¶å°æ˜¯å¦æœ‰ "Removing orphaned visual connection" ä¿¡æ¯</p>
                <p>â€¢ ç¢ºèªæ‰€æœ‰ä¸åŒæ­¥çš„è¦–è¦ºå…ƒç´ è¢«æ¸…ç†</p>
            </div>
        </div>

        <div class="debug-info">
            <h3>ğŸ” èª¿è©¦ä¿¡æ¯èªªæ˜</h3>
            <p><strong>æ­£å¸¸åˆªé™¤æ™‚æ‡‰è©²çœ‹åˆ°ï¼š</strong></p>
            <p>â€¢ "Attempting to delete connection: [ID]"</p>
            <p>â€¢ "Visual connection [ID] removed"</p>
            <p>â€¢ "Removing connection from editor: [ID]" (å¦‚æœå­˜åœ¨æ–¼ç·¨è¼¯å™¨)</p>
            <p>â€¢ "Connection [ID] deleted from editor"</p>
            <p>â€¢ "Connection deletion completed: [ID]"</p>
            
            <p><strong>æ¸…ç†å­¤ç«‹å…ƒç´ æ™‚æ‡‰è©²çœ‹åˆ°ï¼š</strong></p>
            <p>â€¢ "Connection [ID] not found in editor, cleaning up visual element"</p>
            <p>â€¢ "Cleaned up orphaned visual connection [ID]"</p>
            
            <p><strong>å®šæœŸæ¸…ç†æ™‚æ‡‰è©²çœ‹åˆ°ï¼š</strong></p>
            <p>â€¢ "Removing orphaned visual connection: [ID]"</p>
        </div>

        <div class="warning">
            <h3>âš ï¸ æ¸¬è©¦é‡é»</h3>
            <ul>
                <li><strong>ä¸€æ¬¡æ€§å®Œæˆï¼š</strong> ç¬¬ä¸€æ¬¡æŒ‰ Delete å°±æ‡‰è©²å®Œå…¨åˆªé™¤é€£ç·š</li>
                <li><strong>å®Œå…¨æ¸…ç†ï¼š</strong> åˆªé™¤å¾Œçš„é€£ç·šä¸æ‡‰è©²å†èƒ½è¢«é¸ä¸­æˆ–é»æ“Š</li>
                <li><strong>ç„¡éœ€é‡è¤‡æ“ä½œï¼š</strong> ä¸æ‡‰è©²éœ€è¦é»æ“Šå…©æ¬¡æ‰èƒ½åˆªé™¤</li>
                <li><strong>æ—¥èªŒæ¸…æ™°ï¼š</strong> æ§åˆ¶å°ä¿¡æ¯æ‡‰è©²é¡¯ç¤ºå®Œæ•´çš„åˆªé™¤æµç¨‹</li>
            </ul>
        </div>

        <button onclick="window.open('index.html', '_blank')">ğŸš€ é–‹å•Ÿ WCS Flow Designer</button>
        <button onclick="window.open('deletion-guide.html', '_blank')">ğŸ“– åˆªé™¤æ“ä½œæŒ‡å—</button>
        
        <div class="section">
            <h2>ğŸ“‹ æ¸¬è©¦æ¸…å–®</h2>
            <ul>
                <li>[ ] é€£ç·šåˆªé™¤å¾Œå®Œå…¨æ¶ˆå¤±ï¼Œç„¡æ³•å†é»æ“Š</li>
                <li>[ ] F12 æ§åˆ¶å°é¡¯ç¤ºæ­£ç¢ºçš„èª¿è©¦ä¿¡æ¯æµç¨‹</li>
                <li>[ ] æ²’æœ‰é‡è¤‡çš„éŒ¯èª¤ä¿¡æ¯</li>
                <li>[ ] å­¤ç«‹å…ƒç´ è¢«è‡ªå‹•æ¸…ç†</li>
                <li>[ ] é»æ“Šç©ºç™½è™•èƒ½è§¸ç™¼æ¸…ç†æª¢æŸ¥</li>
                <li>[ ] åˆªé™¤æ“ä½œæµæš¢ï¼Œç„¡å¡é “æˆ–ç•°å¸¸</li>
            </ul>
        </div>

        <div class="section">
            <h2>ğŸ”§ æŠ€è¡“ä¿®å¾©è©³æƒ…</h2>
            <ul>
                <li><strong>deleteConnection()ï¼š</strong> æ”¹ç‚ºç¸½æ˜¯å…ˆæ¸…ç†è¦–è¦ºå…ƒç´ ï¼Œç¢ºä¿ä¸€æ¬¡æ€§å®Œæˆåˆªé™¤</li>
                <li><strong>handleConnectionRemoved()ï¼š</strong> åŠ å¼·æ—¥èªŒå’ŒéŒ¯èª¤è™•ç†</li>
                <li><strong>deselectAllConnections()ï¼š</strong> æ–°å¢å­¤ç«‹å…ƒç´ æ¸…ç†é‚è¼¯</li>
                <li><strong>éŒ¯èª¤è™•ç†ï¼š</strong> å³ä½¿é€£ç·šä¸å­˜åœ¨æ–¼ç·¨è¼¯å™¨ï¼Œä¹Ÿèƒ½æ¸…ç†è¦–è¦ºå…ƒç´ </li>
            </ul>
        </div>
    </div>
</body>
</html>