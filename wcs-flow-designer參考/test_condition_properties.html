<!DOCTYPE html>
<html>
<head>
    <title>條件節點屬性測試</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-info { background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 5px; }
        .success { background: #d4edda; border-left: 4px solid #28a745; }
        .error { background: #f8d7da; border-left: 4px solid #dc3545; }
        .warning { background: #fff3cd; border-left: 4px solid #ffc107; }
        button { padding: 10px 20px; margin: 5px; background: #007bff; color: white; border: none; border-radius: 3px; cursor: pointer; }
        button:hover { background: #0056b3; }
        .test-steps { background: #e7f3ff; padding: 15px; border-left: 4px solid #007bff; }
        .condition-type { background: #f8f9fa; padding: 10px; margin: 5px 0; border-left: 3px solid #00BCD4; }
        .param-list { list-style-type: none; padding-left: 20px; }
        .param-list li { margin: 3px 0; }
        .param-list li:before { content: "📋 "; }
    </style>
</head>
<body>
    <h1>WCS Flow Designer - 條件節點屬性測試</h1>
    
    <div class="test-info success">
        <h3>✅ 改進內容：</h3>
        <ul>
            <li><strong>個別化參數顯示</strong> - 每種條件類型只顯示相關的參數</li>
            <li><strong>動態隱藏無關參數</strong> - 其他不相關的參數會被隱藏</li>
            <li><strong>更簡潔的界面</strong> - 減少混亂，專注於當前條件所需參數</li>
        </ul>
    </div>
    
    <div class="test-steps">
        <h3>🧪 測試步驟：</h3>
        <ol>
            <li><strong>開啟應用程式</strong>
                <br>點擊下方按鈕開啟 WCS Flow Designer
            </li>
            <li><strong>測試各種條件節點</strong>
                <br>• 從左側條件節點區域拖拽不同類型的條件節點到畫布
                <br>• 點擊節點查看屬性面板
                <br>• 確認只顯示該條件類型相關的參數
            </li>
            <li><strong>測試載入的範例</strong>
                <br>• 載入 flow-examples 中的 JSON 檔案
                <br>• 點擊各個條件節點
                <br>• 確認屬性面板只顯示該節點相關的參數
            </li>
        </ol>
    </div>
    
    <div class="test-info">
        <h3>📋 各條件類型預期顯示的參數：</h3>
        
        <div class="condition-type">
            <strong>🏠 貨架位置檢查 (rack-location-check)</strong>
            <ul class="param-list">
                <li>位置類型 (locationType)</li>
                <li>檢查類型 (checkType)</li>
            </ul>
        </div>
        
        <div class="condition-type">
            <strong>✅ 貨架面完成 (rack-side-completed)</strong>
            <ul class="param-list">
                <li>貨架面 (rackSide) - A面或B面</li>
            </ul>
        </div>
        
        <div class="condition-type">
            <strong>📦 貨架有工作 (rack-has-work)</strong>
            <ul class="param-list">
                <li>貨架面 (rackSide) - A面或B面</li>
            </ul>
        </div>
        
        <div class="condition-type">
            <strong>📈 貨架已滿 (rack-is-full)</strong>
            <ul class="param-list">
                <li>檢查類型 (checkType) - 滿載狀態</li>
            </ul>
        </div>
        
        <div class="condition-type">
            <strong>🚫 無活動任務 (no-active-task)</strong>
            <ul class="param-list">
                <li>工作ID (workId) - 例如: 220001</li>
            </ul>
        </div>
        
        <div class="condition-type">
            <strong>🏢 區域可用 (area-available)</strong>
            <ul class="param-list">
                <li>位置類型 (locationType)</li>
                <li>檢查類型 (checkType)</li>
            </ul>
        </div>
    </div>
    
    <div class="test-info warning">
        <h3>⚠️ 測試重點：</h3>
        <ul>
            <li><strong>參數精確性</strong>：確認只顯示該條件類型需要的參數</li>
            <li><strong>無多餘字段</strong>：不相關的參數應該被隱藏</li>
            <li><strong>數據正確性</strong>：參數值應該正確顯示和保存</li>
            <li><strong>向後兼容</strong>：舊的或未知條件類型應該顯示所有參數</li>
        </ul>
    </div>
    
    <div class="test-info">
        <h3>🔧 技術實現：</h3>
        <ul>
            <li><code>showConditionSpecificParams()</code> - 根據條件類型動態顯示參數</li>
            <li><code>showParamGroup()</code> - 顯示特定參數組並設定值</li>
            <li><strong>Switch-Case 邏輯</strong> - 為每種條件類型定義顯示規則</li>
            <li><strong>DOM 動態控制</strong> - 動態隱藏/顯示參數組</li>
        </ul>
    </div>
    
    <button onclick="window.open('index.html', '_blank')">🚀 開啟 WCS Flow Designer</button>
    <button onclick="window.open('test_connection_delete.html', '_blank')">🔗 連線刪除測試</button>
    
    <div class="test-info">
        <h3>📝 測試清單：</h3>
        <ul>
            <li>[ ] 貨架位置檢查節點 - 只顯示位置類型和檢查類型</li>
            <li>[ ] 貨架面完成節點 - 只顯示貨架面參數</li>
            <li>[ ] 貨架有工作節點 - 只顯示貨架面參數</li>
            <li>[ ] 貨架已滿節點 - 只顯示檢查類型參數</li>
            <li>[ ] 無活動任務節點 - 只顯示工作ID參數</li>
            <li>[ ] 區域可用節點 - 只顯示位置類型和檢查類型</li>
            <li>[ ] 載入範例檔案後的節點屬性正確顯示</li>
            <li>[ ] 參數修改後能正確保存</li>
        </ul>
    </div>
    
    <div class="test-info">
        <h3>💡 預期改善效果：</h3>
        <p>現在每個條件節點的屬性面板會變得更簡潔明瞭，只顯示該條件類型真正需要的參數，避免了之前所有條件節點都顯示相同參數的混亂情況。</p>
    </div>
</body>
</html>